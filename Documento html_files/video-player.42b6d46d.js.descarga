(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["video-player"],{"03d0":function(t,e,r){},"0974":function(t,e,r){},"0dc6":function(t,e,r){"use strict";r("15ab")},"0de7":function(t,e,r){"use strict";r("fa0e")},"0e2d":function(t,e,r){},"0ed3":function(t,e,r){},"15ab":function(t,e,r){},"26ee":function(t,e,r){"use strict";var n=r("5ea3"),i="object"==typeof self&&self&&self.Object===Object&&self,s=n["a"]||i||Function("return this")();e["a"]=s},"2f74":function(t,e,r){"use strict";function n(){return!1}e["a"]=n},"3be5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"video-player",class:t.videoPlayerCls},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowSharePanel(),expression:"shouldShowSharePanel()"}],ref:"playerShareWrapper",staticClass:"player-panel-l"},[r("div",{staticClass:"player-share",style:t.playerShareStyl},[t.shareMp4Url?r("video",{ref:"sharePlayer",staticClass:"video-js"}):t._e()])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.shareStart&&t.shareMp4Url,expression:"shareStart && shareMp4Url"}],staticClass:"draggable"},[r("div",{staticClass:"bar",on:{mousedown:t.onMouseDown}})]),r("div",{ref:"panelR",staticClass:"player-panel-r",style:t.panelRStyl},[r("div",{ref:"playerViewWrapper",staticClass:"player-view-wrapper",style:t.playerViewWrapperStyl},[t.showGettyNotice?r("getty-notice",{ref:"gettyNotice"}):t._e(),r("div",{staticClass:"player-view",style:t.playerViewStyl,on:{contextmenu:function(t){t.preventDefault()}}},[r("video",{ref:"player",staticClass:"video-js"},[t.chapterUrl?r("track",{attrs:{src:t.chapterUrl,kind:"chapters"}}):t._e(),t.ccUrl?r("track",{attrs:{id:"cc_track",src:t.ccUrl,kind:"captions",language:"en"}}):t._e(),t.transcriptUrl?r("track",{attrs:{id:"transcript_track",src:t.transcriptUrl,kind:"captions",language:"en"}}):t._e()])])],1),t.hasTranscript||t.hasChat?r("div",{staticClass:"transcript-wrapper",on:{contextmenu:function(t){t.stopPropagation()}}},[t.playerReady?r("transcript",{attrs:{player:t.player}}):t._e()],1):t._e()])])},i=[],s=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),a=(r("30e2"),r("d721"),r("2397"),r("d225")),o=r("b0b4"),c=r("4e2b"),l=r("308d"),h=r("6bb5"),u=r("f0e2"),p=r("e3e2"),d=r("2f62"),f=r("c592"),v=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"zm-fade-in"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-pop-marker",attrs:{role:"tooltip","aria-label":t.content}},[r("div",{staticClass:"content"},[r("span",[t._v(t._s(t.content))])]),r("div",{staticClass:"time"},[r("span",[t._v(t._s(t.formattedTime))])])])])},g=[],m=r("2cf8"),y=r("4b94"),b=r("8b55");function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var w={name:"vjs-marker-tip",mixins:[m["a"]],directives:{Clickoutside:y["a"]},props:{content:String,time:Number,reference:String},computed:j({formattedTime:function(){return Object(b["d"])(this.time)}},Object(d["e"])(["popMenuShow"])),mounted:function(){this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]},methods:j({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()}},Object(d["d"])({setPopMarkerShow:"SET_POP_MARKER_SHOW"})),watch:{showPopper:function(t){this.setPopMarkerShow(t)},popMenuShow:function(t){t&&this.hide()}}},P=w,x=(r("4a77"),r("2877")),_=Object(x["a"])(P,v,g,!1,null,"6c119804",null),S=_.exports;function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function C(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var M={components:{VjsPopMarker:S},computed:C({},Object(d["e"])(["popMenuShow"])),methods:{onMouseEnter:function(){this.popMenuShow||this.showPopMarker()},onMouseLeave:function(){this.hidePopMarker()},onFocus:function(){this.showPopMarker()},showPopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.show()},hidePopMarker:function(){this.$refs.popMarker&&this.$refs.popMarker.hide()},getMarkerStyl:function(t){var e=parseInt((t.startTime-this.offsetStart)/this.duration*1e4)/100;return{left:e+"%"}}}},T=r("bd41"),D=r("f5ea");function E(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?E(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var I={name:"vjs-share-marker",mixins:[f["a"],M],props:{cue:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:$({duration:function(){return this.player.duration()},ariaLabel:function(){return this.cue.text+","+Object(D["a"])(this.cue.startTime-this.offsetStart)}},Object(d["e"])(["offsetStart"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-share-marker",style:this.getMarkerStyl(this.cue)},[t("span",{class:"vjs-share-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown,focus:this.onFocus},ref:"button"}),t("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.cue.text,time:this.cue.startTime-this.offsetStart,reference:"button"},ref:"popMarker"})])},methods:{onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;e===r.enter||e===r.space?(this.changeToCurrent(),t.preventDefault()):e!==r.tab&&e!==r.esc||(this.hidePopMarker(),e===r.esc&&t.preventDefault()),t.stopPropagation()},changeToCurrent:function(){Object(D["b"])("Position moved to Share Marker "+Object(D["a"])(this.cue.startTime-this.offsetStart)),this.player.realCurrentTime(this.cue.startTime)}}},A=r("422e"),R=r("d3a4");function L(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function H(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?L(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t){var e=W();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function W(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var F=window.Vue,z=u["default"].getPlugin("plugin"),V=function(t){Object(c["a"])(r,t);var e=B(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.player=t,n.sharePlayer?(i.sharePlayer=n.sharePlayer,i.pollingCreateMarker(),i):Object(l["a"])(i)}return Object(o["a"])(r,[{key:"pollingCreateMarker",value:function(){var t=this.player,e=this;function r(){var n=e.getChapterTrack();n?Object(R["a"])().then((function(){e.createMarker(n,t),e.checkCueState(n),e.bindEvents(n)})):setTimeout(r,500)}r()}},{key:"getChapterTrack",value:function(){for(var t=this.player.textTracks(),e=0;e<t.length;e++){var r=t[e];if("chapters"===r.kind&&r.cues)return r}}},{key:"createMarker",value:function(t,e){var r=t.cues,n=this.sharePlayer,i=new F({store:p["a"],render:function(t){return t(U,{props:{player:e,sharePlayer:n,cues:[].slice.call(r)}})}});i.$mount(),e.controlBar.progressControl.contentEl().appendChild(i.$el)}},{key:"checkCueState",value:function(t){var e=t.activeCues[0];!e||"Sharing Chapter"!==e.text.trim()&&"Sharing Started"!==e.text.trim()?this.player.trigger("share-start",!1):this.player.trigger("share-start",!0)}},{key:"bindEvents",value:function(t){var e=this;t.addEventListener("cuechange",(function(){e.checkCueState(t)}))}}]),r}(z);u["default"].registerPlugin("shareMarker",V);var U={mixins:[A["a"]],components:{VjsShareMarker:I},props:{cues:{type:Array,default:function(){return[]}}},computed:H({duration:function(){return this.player.duration()}},Object(d["e"])(["offsetStart"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-share-markers-bar"},[this.renderMakers()])},methods:{renderMakers:function(){var t=this,e=this.$createElement;return this.cues.filter((function(e){var r=e.startTime-t.offsetStart;return!("Recording Started"===e.text.trim()||r<=0||r>t.duration)})).map((function(r,n){return e("vjs-share-marker",{attrs:{cue:r,player:t.player,"active-player":t.activePlayer},key:r.startTime+"/"+n})}))}}},N=(r("f063"),r("7514"),r("4f0e")),q=r("d38d"),K=r("f33f");function J(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?J(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function X(t){var e=Q();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function Q(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var Y=window.Vue,Z=u["default"].getPlugin("plugin"),tt=function(t){Object(c["a"])(r,t);var e=X(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.sharePlayer=n.sharePlayer,i.createModelControl(t),i}return Object(o["a"])(r,[{key:"createModelControl",value:function(t){var e=this;Object(R["a"])().then((function(r){var n=e.sharePlayer,i=new Y({store:p["a"],i18n:r,render:function(e){return e(et,{props:{player:t,sharePlayer:n}})}});i.$mount(),t.extendControl().addChild(i.$el)}))}}]),r}(Z);u["default"].registerPlugin("playbackModel",tt);var et={mixins:[A["a"],q["a"],f["a"],K["a"]],components:{VjsPopMenu:N["a"]},data:function(){return{menuItems:[{val:"AS",text:this.$t("speaker_view")},{val:"GV",text:this.$t("gallery_view")}]}},computed:G({selectedItem:function(){var t=this;return this.menuItems.find((function(e){return e.val===t.playbackModel}))}},Object(d["e"])(["gallaryMp4Url","viewMp4Url","playbackModel"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-playback-model-control",directives:[{name:"show",value:this.gallaryMp4Url}]},[t("button",{class:"vjs-playback-model-control-button vjs-control",on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown},attrs:{"aria-haspopup":!0,"aria-label":"Playback Model","aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId()}},[t("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),t("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),t("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.$t("switch_view")},ref:"popTitle"})])},methods:G({onControlClick:function(){this.$refs.popMenu.show(),this.$refs.popTitle.hide()},handleCommand:function(t){this.setPlaybackModel(t.val);var e=this.player,r=e.currentTime(),n=document.activeElement;"GV"===t.val?e.src({type:"video/mp4",src:this.gallaryMp4Url}):e.src({type:"video/mp4",src:this.viewMp4Url}),e.one("canplay",(function(){e.currentTime(r),e.play(),n.focus()}))}},Object(d["b"])(["setPlaybackModel"]))};function rt(t){var e=nt();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function nt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var it=window.Vue,st=u["default"].getPlugin("plugin"),at=function(t){Object(c["a"])(r,t);var e=rt(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.sharePlayer=n.sharePlayer,i.createComp(t),i}return Object(o["a"])(r,[{key:"createComp",value:function(t){var e=this;Object(R["a"])().then((function(r){var n=e.sharePlayer,i=new it({store:p["a"],i18n:r,render:function(e){return e(ot,{props:{player:t,sharePlayer:n}})}});i.$mount(),t.extendControl().addChild(i.$el)}))}}]),r}(st);u["default"].registerPlugin("fullscreenToggle",at);var ot={mixins:[A["a"],q["a"],f["a"]],data:function(){return{fullScreen:!1}},computed:{wrapperCls:function(){var t=["vjs-fullscreen-toggle-control"];return this.fullScreen?t.push("fullscreen-exit"):t.push("fullscreen-enter"),t.join(" ")},controlText:function(){return this.fullScreen?"Exit Full Screen":"Enter Full Screen"}},render:function(){var t=arguments[0];return t("div",{class:this.wrapperCls},[t("button",{class:"vjs-fullscreen-toggle-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown}},[t("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),t("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){var t=this,e=this.player,r=this.sharePlayer;e.on("fullscreenchange",(function(){t.handleFullscreenChange(e)})),r&&r.on("fullscreenchange",(function(){t.handleFullscreenChange(r)}))},methods:{handleFullscreenChange:function(t){var e=this;setTimeout((function(){e.fullScreen=t.isFullscreen()}),0)},onControlClick:function(){this.fullScreen?this.activePlayer.exitFullscreen():this.activePlayer.requestFullscreen()},onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;e===r.enter&&this.onControlClick()},getTitle:function(){return this.fullScreen?this.player.localize("Non-Fullscreen"):this.player.localize("Fullscreen")}}},ct=(r("3247"),r("3e2c"));function lt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ht(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ut(t){var e=pt();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function pt(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var dt=window.Vue,ft=u["default"].getPlugin("plugin"),vt=function(t){Object(c["a"])(r,t);var e=ut(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.sharePlayer=n.sharePlayer,i.createCaptionsControl(t),i.bindEvents(),i}return Object(o["a"])(r,[{key:"createCaptionsControl",value:function(t){var e=this;Object(R["a"])().then((function(r){var n=e.sharePlayer,i=new dt({store:p["a"],i18n:r,render:function(e){return e(gt,{props:{player:t,sharePlayer:n}})}});i.$mount(),t.extendControl().addChild(i.$el)}))}},{key:"bindEvents",value:function(){var t=this,e=this.player,r=e.textTrackDisplay.contentEl(),n=0;e.on("player-resize",(function(e,i){var s=i.mainPlayerWidth,a=t.getFontSizeByWidth(s);a!==n&&(0!==n&&Object(ct["c"])(r,"font-"+n),n=a,Object(ct["a"])(r,"font-"+a))}))}},{key:"getFontSizeByWidth",value:function(t){return t<=1e3?16:16+Math.round(.016*(t-1e3))}}]),r}(ft);u["default"].registerPlugin("captions",vt);var gt={mixins:[A["a"],q["a"],f["a"],K["a"]],components:{VjsPopMenu:N["a"]},data:function(){return{currentCaptions:null}},computed:ht({selectedItem:function(){var t=this;return this.menuItems.find((function(e){return e.val===t.currentCaptions}))},menuItems:function(){var t=[];return this.ccUrl&&t.push({val:"cc",text:this.$t("cc_transcript")}),this.transcriptUrl&&t.push({val:"audio",text:this.$t("audio_transcript")}),t.length&&t.unshift({val:null,text:this.$t("no_transcript")}),t},hasPopup:function(){return this.menuItems.length>2},captionsAriaLabel:function(){return this.hasPopup?"Subtitles/closed captions":null!==this.currentCaptions?"Hide Subtitles/closed captions":"Show Subtitles/closed captions"}},Object(d["e"])(["ccUrl","transcriptUrl"])),render:function(){var t=arguments[0];return t("div",{class:this.getCaptionsClass(),directives:[{name:"show",value:this.menuItems.length}]},[t("button",{class:"vjs-captions-control-button vjs-control",on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onMyKeyDown},attrs:{"aria-haspopup":this.hasPopup,"aria-label":this.captionsAriaLabel,"aria-expanded":this.getMyExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMyMenuId()}},[t("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),t("vjs-pop-menu",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,"menu-items":this.menuItems,"selected-item":this.selectedItem,"hover-index":this.hoverIndex},ref:"popMenu",on:{selected:this.handleCommand,hide:this.resetHoverIndex}}),t("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},mounted:function(){this.currentCaptions=this.ccUrl?"cc":null},methods:{getCaptionsClass:function(){var t=["vjs-captions-control"];return null!==this.currentCaptions&&t.push("use-transcript"),t.join(" ")},getMyExpandState:function(){return!!this.hasPopup&&this.getExpandState()},getMyMenuId:function(){return!!this.hasPopup&&this.getMenuId()},onMyKeyDown:function(t){if(!this.hasPopup){var e=t.keyCode,r=T["a"].keys;if(e!==r.space)return}this.onKeyDown(t)},onControlClick:function(){this.menuItems.length>2?(this.$refs.popMenu.show(),this.$refs.popTitle.hide()):null===this.currentCaptions?this.currentCaptions=this.menuItems[1].val:this.currentCaptions=this.menuItems[0].val},handleCommand:function(t){this.currentCaptions=t.val},getTitle:function(){return this.menuItems.length>2?this.$t("subtitle"):null===this.currentCaptions?this.$t("show_subtitle"):this.$t("hide_subtitle")},closeCaptions:function(){for(var t=this.player.textTracks(),e=0;e<t.length;e++){var r=t[e];"captions"===r.kind&&(r.mode="hidden")}},openCaptions:function(t){for(var e=this.player.textTracks(),r=0;r<e.length;r++){var n=e[r];"captions"===n.kind&&(n.mode="hidden",("cc"===t&&"cc_track"===n.id||"audio"===t&&"transcript_track"===n.id)&&(n.mode="showing"))}}},watch:{currentCaptions:{immediate:!0,handler:function(t){null===t?this.closeCaptions():this.openCaptions(t)}}}},mt=r("20d7"),yt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("transition",{attrs:{name:"zm-fade-in"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.showPopper,expression:"showPopper"},{name:"clickoutside",rawName:"v-clickoutside",value:t.handleOutsideClick,expression:"handleOutsideClick"}],staticClass:"vjs-context-menu",on:{contextmenu:function(t){t.preventDefault()}}},[t.reference?t._e():r("div",{ref:"reference",staticClass:"reference",style:t.referenceStyl}),r("ul",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu",expression:"'vjs-context-menu'"}],ref:"list",staticClass:"list",attrs:{role:"menu"}},t._l(t.commands,(function(e,n){return r("li",{directives:[{name:"uid",rawName:"v-uid",value:"vjs-context-menu-item",expression:"'vjs-context-menu-item'"}],key:e.action,ref:"item",refInFor:!0,class:{"is-hover":t.hoverIndex===n},attrs:{role:"menuitem"},on:{click:function(r){return t.onItemClick(e)},mousedown:function(t){t.stopPropagation()}}},[r("span",[t._v(t._s(e.text))])])})),0)])])},bt=[],Ot=[];function jt(t){Ot.push(t),Pt(t)}function wt(t){Ot.splice(Ot.indexOf(t),1)}function Pt(t){t.$on("show",(function(){Ot.forEach((function(e){e!==t&&e.hide()}))}))}var xt=r("b617");function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function St(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var kt={name:"vjs-context-menu",mixins:[m["a"]],directives:{Clickoutside:y["a"],Uid:xt["a"]},props:{pos:Object,reference:String,commands:Array,player:Object,hoverIndex:Number},computed:{referenceStyl:function(){return{left:this.pos.x?this.pos.x+"px":"50%",top:this.pos.y?this.pos.y+"px":"50%"}}},inject:["menu"],mounted:function(){this.reference?(this.popperElm=this.$el,this.referenceElm=this.$parent.$refs[this.reference]):(this.popperElm=this.$refs.list,this.referenceElm=this.$refs.reference);for(var t=this.$refs.item,e=0;e<t.length;e++)this.menu.options.push(t[e]);jt(this)},beforeDestroy:function(){wt(this)},methods:St({show:function(){this.showPopper||(this.showPopper=!0,this.$emit("show"))},hide:function(){this.showPopper&&(this.showPopper=!1,this.$emit("hide"))},handleOutsideClick:function(){this.hide()},onItemClick:function(t){this.hide(),this.$emit("command",t)}},Object(d["d"])({setPopMenuShow:"SET_POP_MENU_SHOW"})),watch:{pos:function(){this.updatePopper()},showPopper:function(t){this.setPopMenuShow(t)}}},Ct=kt,Mt=(r("8ea0"),Object(x["a"])(Ct,yt,bt,!1,null,"3fbe9509",null)),Tt=Mt.exports;function Dt(t){var e=Et();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function Et(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var $t=window.Vue,It=u["default"].getPlugin("plugin"),At=function(t){Object(c["a"])(r,t);var e=Dt(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.sharePlayer=n.sharePlayer,p["a"].state.hasPermissionEdit&&!p["a"].state.trimming&&i.createContextMenu(t),i}return Object(o["a"])(r,[{key:"createContextMenu",value:function(t){var e=this;Object(R["a"])().then((function(r){var n=e.sharePlayer,i=new $t({i18n:r,store:p["a"],render:function(e){return e(Rt,{props:{player:t,sharePlayer:n}})}});i.$mount(),t.contentEl().appendChild(i.$el),e.contextMenuComp=i}))}}]),r}(It);u["default"].registerPlugin("contextMenu",At);var Rt={mixins:[A["a"],f["a"],mt["a"]],components:{VjsContextMenu:Tt},data:function(){return{pos:{x:0,y:0},modifiers:{preventOverflow:{boundariesElement:this.player.contentEl(),padding:5},computeStyle:{gpuAcceleration:!1}},commands:[{text:this.$t("add_chapter"),action:"add-chapter"}],options:[]}},provide:function(){return{menu:this}},render:function(t){return t(Tt,{props:{placement:"bottom-start",modifiers:this.modifiers,pos:this.pos,player:this.activePlayer,commands:this.commands,appendToBody:!1,hoverIndex:this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})},mounted:function(){this.focusPlayerEl(),this.initAria(),this.bindEvents()},methods:{initAria:function(){var t=this.player,e=this.sharePlayer,r=t.contentEl().querySelector(".vjs-tech"),n="Video Player, press Shift+F10 for more options";if(r.setAttribute("aria-label",n),r.setAttribute("aria-haspopup",!0),r.setAttribute("aria-controls",this.getMenuId()),r.setAttribute("aria-expanded",!!this.isMenuVisible()),e){var i=e.contentEl().querySelector(".vjs-tech");i.setAttribute("aria-label",n),i.setAttribute("aria-haspopup",!0),i.setAttribute("aria-controls",this.getMenuId()),i.setAttribute("aria-expanded",!!this.isMenuVisible())}},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},bindEvents:function(){var t=this,e=this.player,r=this.sharePlayer,n=e.contentEl().querySelector(".vjs-tech");if(n.addEventListener("contextmenu",(function(r){r.preventDefault(),(e.isFullscreen()||t.activePlayer===e)&&t.showContextMenu(r)})),n.addEventListener("keydown",(function(r){(e.isFullscreen()||t.activePlayer===e)&&t.onKeyDown(r)})),r){var i=r.contentEl().querySelector(".vjs-tech");i.addEventListener("contextmenu",(function(e){e.preventDefault(),t.showContextMenu(e)})),i.addEventListener("keydown",(function(e){t.onKeyDown(e)}))}var s=e.controlBar.contentEl();s.addEventListener("contextmenu",(function(t){t.preventDefault()}))},focusPlayerEl:function(){this.updateAriaAttr("tabindex",0)},showContextMenu:function(t){this.pos={x:t.offsetX,y:t.offsetY},this.$refs.contextMenu.show(),this.updateAriaAttr("aria-expanded",!0)},updateAriaAttr:function(t,e,r){var n=this.player,i=this.sharePlayer,s=n.contentEl().querySelector(".vjs-tech");if(s.setAttribute(t,e),!e&&r&&s.removeAttribute(t),i){var a=i.contentEl().querySelector(".vjs-tech");a.setAttribute(t,e),!e&&r&&a.removeAttribute(t)}},hideContextMenu:function(){this.$refs.contextMenu.hide(),this.updateAriaAttr("aria-expanded",!1)},onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;if(t.shiftKey&&121===e)this.showContextMenu(t);else switch(e){case r.enter:if(this.isMenuVisible()){var n=this.commands[this.hoverIndex];n&&(this.handleCommand(n),this.hideContextMenu())}t.preventDefault();break;case r.space:case r.tab:this.hideContextMenu();break;case r.esc:this.hideContextMenu(),t.preventDefault();break;case r.down:this.isMenuVisible()&&this.navigateOptions("next"),t.preventDefault();break;case r.up:this.isMenuVisible()&&this.navigateOptions("prev"),t.preventDefault();break;case r.home:this.isMenuVisible()&&this.navigateOptions("home"),t.preventDefault();break;case r.end:this.isMenuVisible()&&this.navigateOptions("end"),t.preventDefault();break}},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(t){this.player.trigger(t.action)}},watch:{activedescendant:function(t){this.updateAriaAttr("aria-activedescendant",t,!0)},activePlayer:function(){var t=this.player,e=this.sharePlayer,r=t.contentEl().querySelector(".vjs-tech"),n=e.contentEl().querySelector(".vjs-tech");this.activePlayer===e?(n.setAttribute("tabindex",0),r.setAttribute("tabindex",-1),document.activeElement===r&&n.focus()):(r.setAttribute("tabindex",0),n.setAttribute("tabindex",-1),document.activeElement===n&&r.focus())}}};function Lt(){this.__data__=[],this.size=0}var Ht=Lt;function Bt(t,e){return t===e||t!==t&&e!==e}var Wt=Bt;function Ft(t,e){var r=t.length;while(r--)if(Wt(t[r][0],e))return r;return-1}var zt=Ft,Vt=Array.prototype,Ut=Vt.splice;function Nt(t){var e=this.__data__,r=zt(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():Ut.call(e,r,1),--this.size,!0}var qt=Nt;function Kt(t){var e=this.__data__,r=zt(e,t);return r<0?void 0:e[r][1]}var Jt=Kt;function Gt(t){return zt(this.__data__,t)>-1}var Xt=Gt;function Qt(t,e){var r=this.__data__,n=zt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Yt=Qt;function Zt(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}Zt.prototype.clear=Ht,Zt.prototype["delete"]=qt,Zt.prototype.get=Jt,Zt.prototype.has=Xt,Zt.prototype.set=Yt;var te=Zt;function ee(){this.__data__=new te,this.size=0}var re=ee;function ne(t){var e=this.__data__,r=e["delete"](t);return this.size=e.size,r}var ie=ne;function se(t){return this.__data__.get(t)}var ae=se;function oe(t){return this.__data__.has(t)}var ce=oe,le=r("26ee"),he=le["a"].Symbol,ue=he,pe=Object.prototype,de=pe.hasOwnProperty,fe=pe.toString,ve=ue?ue.toStringTag:void 0;function ge(t){var e=de.call(t,ve),r=t[ve];try{t[ve]=void 0;var n=!0}catch(s){}var i=fe.call(t);return n&&(e?t[ve]=r:delete t[ve]),i}var me=ge,ye=Object.prototype,be=ye.toString;function Oe(t){return be.call(t)}var je=Oe,we="[object Null]",Pe="[object Undefined]",xe=ue?ue.toStringTag:void 0;function _e(t){return null==t?void 0===t?Pe:we:xe&&xe in Object(t)?me(t):je(t)}var Se=_e;function ke(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var Ce=ke,Me="[object AsyncFunction]",Te="[object Function]",De="[object GeneratorFunction]",Ee="[object Proxy]";function $e(t){if(!Ce(t))return!1;var e=Se(t);return e==Te||e==De||e==Me||e==Ee}var Ie=$e,Ae=le["a"]["__core-js_shared__"],Re=Ae,Le=function(){var t=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function He(t){return!!Le&&Le in t}var Be=He,We=Function.prototype,Fe=We.toString;function ze(t){if(null!=t){try{return Fe.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var Ve=ze,Ue=/[\\^$.*+?()[\]{}|]/g,Ne=/^\[object .+?Constructor\]$/,qe=Function.prototype,Ke=Object.prototype,Je=qe.toString,Ge=Ke.hasOwnProperty,Xe=RegExp("^"+Je.call(Ge).replace(Ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Qe(t){if(!Ce(t)||Be(t))return!1;var e=Ie(t)?Xe:Ne;return e.test(Ve(t))}var Ye=Qe;function Ze(t,e){return null==t?void 0:t[e]}var tr=Ze;function er(t,e){var r=tr(t,e);return Ye(r)?r:void 0}var rr=er,nr=rr(le["a"],"Map"),ir=nr,sr=rr(Object,"create"),ar=sr;function or(){this.__data__=ar?ar(null):{},this.size=0}var cr=or;function lr(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var hr=lr,ur="__lodash_hash_undefined__",pr=Object.prototype,dr=pr.hasOwnProperty;function fr(t){var e=this.__data__;if(ar){var r=e[t];return r===ur?void 0:r}return dr.call(e,t)?e[t]:void 0}var vr=fr,gr=Object.prototype,mr=gr.hasOwnProperty;function yr(t){var e=this.__data__;return ar?void 0!==e[t]:mr.call(e,t)}var br=yr,Or="__lodash_hash_undefined__";function jr(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ar&&void 0===e?Or:e,this}var wr=jr;function Pr(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}Pr.prototype.clear=cr,Pr.prototype["delete"]=hr,Pr.prototype.get=vr,Pr.prototype.has=br,Pr.prototype.set=wr;var xr=Pr;function _r(){this.size=0,this.__data__={hash:new xr,map:new(ir||te),string:new xr}}var Sr=_r;function kr(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}var Cr=kr;function Mr(t,e){var r=t.__data__;return Cr(e)?r["string"==typeof e?"string":"hash"]:r.map}var Tr=Mr;function Dr(t){var e=Tr(this,t)["delete"](t);return this.size-=e?1:0,e}var Er=Dr;function $r(t){return Tr(this,t).get(t)}var Ir=$r;function Ar(t){return Tr(this,t).has(t)}var Rr=Ar;function Lr(t,e){var r=Tr(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Hr=Lr;function Br(t){var e=-1,r=null==t?0:t.length;this.clear();while(++e<r){var n=t[e];this.set(n[0],n[1])}}Br.prototype.clear=Sr,Br.prototype["delete"]=Er,Br.prototype.get=Ir,Br.prototype.has=Rr,Br.prototype.set=Hr;var Wr=Br,Fr=200;function zr(t,e){var r=this.__data__;if(r instanceof te){var n=r.__data__;if(!ir||n.length<Fr-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Wr(n)}return r.set(t,e),this.size=r.size,this}var Vr=zr;function Ur(t){var e=this.__data__=new te(t);this.size=e.size}Ur.prototype.clear=re,Ur.prototype["delete"]=ie,Ur.prototype.get=ae,Ur.prototype.has=ce,Ur.prototype.set=Vr;var Nr=Ur;function qr(t,e){var r=-1,n=null==t?0:t.length;while(++r<n)if(!1===e(t[r],r,t))break;return t}var Kr=qr,Jr=function(){try{var t=rr(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),Gr=Jr;function Xr(t,e,r){"__proto__"==e&&Gr?Gr(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Qr=Xr,Yr=Object.prototype,Zr=Yr.hasOwnProperty;function tn(t,e,r){var n=t[e];Zr.call(t,e)&&Wt(n,r)&&(void 0!==r||e in t)||Qr(t,e,r)}var en=tn;function rn(t,e,r,n){var i=!r;r||(r={});var s=-1,a=e.length;while(++s<a){var o=e[s],c=n?n(r[o],t[o],o,r,t):void 0;void 0===c&&(c=t[o]),i?Qr(r,o,c):en(r,o,c)}return r}var nn=rn;function sn(t,e){var r=-1,n=Array(t);while(++r<t)n[r]=e(r);return n}var an=sn;function on(t){return null!=t&&"object"==typeof t}var cn=on,ln="[object Arguments]";function hn(t){return cn(t)&&Se(t)==ln}var un=hn,pn=Object.prototype,dn=pn.hasOwnProperty,fn=pn.propertyIsEnumerable,vn=un(function(){return arguments}())?un:function(t){return cn(t)&&dn.call(t,"callee")&&!fn.call(t,"callee")},gn=vn,mn=Array.isArray,yn=mn,bn=r("58e0"),On=9007199254740991,jn=/^(?:0|[1-9]\d*)$/;function wn(t,e){var r=typeof t;return e=null==e?On:e,!!e&&("number"==r||"symbol"!=r&&jn.test(t))&&t>-1&&t%1==0&&t<e}var Pn=wn,xn=9007199254740991;function _n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=xn}var Sn=_n,kn="[object Arguments]",Cn="[object Array]",Mn="[object Boolean]",Tn="[object Date]",Dn="[object Error]",En="[object Function]",$n="[object Map]",In="[object Number]",An="[object Object]",Rn="[object RegExp]",Ln="[object Set]",Hn="[object String]",Bn="[object WeakMap]",Wn="[object ArrayBuffer]",Fn="[object DataView]",zn="[object Float32Array]",Vn="[object Float64Array]",Un="[object Int8Array]",Nn="[object Int16Array]",qn="[object Int32Array]",Kn="[object Uint8Array]",Jn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",Xn="[object Uint32Array]",Qn={};function Yn(t){return cn(t)&&Sn(t.length)&&!!Qn[Se(t)]}Qn[zn]=Qn[Vn]=Qn[Un]=Qn[Nn]=Qn[qn]=Qn[Kn]=Qn[Jn]=Qn[Gn]=Qn[Xn]=!0,Qn[kn]=Qn[Cn]=Qn[Wn]=Qn[Mn]=Qn[Fn]=Qn[Tn]=Qn[Dn]=Qn[En]=Qn[$n]=Qn[In]=Qn[An]=Qn[Rn]=Qn[Ln]=Qn[Hn]=Qn[Bn]=!1;var Zn=Yn;function ti(t){return function(e){return t(e)}}var ei=ti,ri=r("c6eb"),ni=ri["a"]&&ri["a"].isTypedArray,ii=ni?ei(ni):Zn,si=ii,ai=Object.prototype,oi=ai.hasOwnProperty;function ci(t,e){var r=yn(t),n=!r&&gn(t),i=!r&&!n&&Object(bn["a"])(t),s=!r&&!n&&!i&&si(t),a=r||n||i||s,o=a?an(t.length,String):[],c=o.length;for(var l in t)!e&&!oi.call(t,l)||a&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Pn(l,c))||o.push(l);return o}var li=ci,hi=Object.prototype;function ui(t){var e=t&&t.constructor,r="function"==typeof e&&e.prototype||hi;return t===r}var pi=ui;function di(t,e){return function(r){return t(e(r))}}var fi=di,vi=fi(Object.keys,Object),gi=vi,mi=Object.prototype,yi=mi.hasOwnProperty;function bi(t){if(!pi(t))return gi(t);var e=[];for(var r in Object(t))yi.call(t,r)&&"constructor"!=r&&e.push(r);return e}var Oi=bi;function ji(t){return null!=t&&Sn(t.length)&&!Ie(t)}var wi=ji;function Pi(t){return wi(t)?li(t):Oi(t)}var xi=Pi;function _i(t,e){return t&&nn(e,xi(e),t)}var Si=_i;function ki(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}var Ci=ki,Mi=Object.prototype,Ti=Mi.hasOwnProperty;function Di(t){if(!Ce(t))return Ci(t);var e=pi(t),r=[];for(var n in t)("constructor"!=n||!e&&Ti.call(t,n))&&r.push(n);return r}var Ei=Di;function $i(t){return wi(t)?li(t,!0):Ei(t)}var Ii=$i;function Ai(t,e){return t&&nn(e,Ii(e),t)}var Ri=Ai,Li=r("dff1");function Hi(t,e){var r=-1,n=t.length;e||(e=Array(n));while(++r<n)e[r]=t[r];return e}var Bi=Hi;function Wi(t,e){var r=-1,n=null==t?0:t.length,i=0,s=[];while(++r<n){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var Fi=Wi;function zi(){return[]}var Vi=zi,Ui=Object.prototype,Ni=Ui.propertyIsEnumerable,qi=Object.getOwnPropertySymbols,Ki=qi?function(t){return null==t?[]:(t=Object(t),Fi(qi(t),(function(e){return Ni.call(t,e)})))}:Vi,Ji=Ki;function Gi(t,e){return nn(t,Ji(t),e)}var Xi=Gi;function Qi(t,e){var r=-1,n=e.length,i=t.length;while(++r<n)t[i+r]=e[r];return t}var Yi=Qi,Zi=fi(Object.getPrototypeOf,Object),ts=Zi,es=Object.getOwnPropertySymbols,rs=es?function(t){var e=[];while(t)Yi(e,Ji(t)),t=ts(t);return e}:Vi,ns=rs;function is(t,e){return nn(t,ns(t),e)}var ss=is;function as(t,e,r){var n=e(t);return yn(t)?n:Yi(n,r(t))}var os=as;function cs(t){return os(t,xi,Ji)}var ls=cs;function hs(t){return os(t,Ii,ns)}var us=hs,ps=rr(le["a"],"DataView"),ds=ps,fs=rr(le["a"],"Promise"),vs=fs,gs=rr(le["a"],"Set"),ms=gs,ys=rr(le["a"],"WeakMap"),bs=ys,Os="[object Map]",js="[object Object]",ws="[object Promise]",Ps="[object Set]",xs="[object WeakMap]",_s="[object DataView]",Ss=Ve(ds),ks=Ve(ir),Cs=Ve(vs),Ms=Ve(ms),Ts=Ve(bs),Ds=Se;(ds&&Ds(new ds(new ArrayBuffer(1)))!=_s||ir&&Ds(new ir)!=Os||vs&&Ds(vs.resolve())!=ws||ms&&Ds(new ms)!=Ps||bs&&Ds(new bs)!=xs)&&(Ds=function(t){var e=Se(t),r=e==js?t.constructor:void 0,n=r?Ve(r):"";if(n)switch(n){case Ss:return _s;case ks:return Os;case Cs:return ws;case Ms:return Ps;case Ts:return xs}return e});var Es=Ds,$s=Object.prototype,Is=$s.hasOwnProperty;function As(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Is.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Rs=As,Ls=le["a"].Uint8Array,Hs=Ls;function Bs(t){var e=new t.constructor(t.byteLength);return new Hs(e).set(new Hs(t)),e}var Ws=Bs;function Fs(t,e){var r=e?Ws(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var zs=Fs,Vs=/\w*$/;function Us(t){var e=new t.constructor(t.source,Vs.exec(t));return e.lastIndex=t.lastIndex,e}var Ns=Us,qs=ue?ue.prototype:void 0,Ks=qs?qs.valueOf:void 0;function Js(t){return Ks?Object(Ks.call(t)):{}}var Gs=Js;function Xs(t,e){var r=e?Ws(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Qs=Xs,Ys="[object Boolean]",Zs="[object Date]",ta="[object Map]",ea="[object Number]",ra="[object RegExp]",na="[object Set]",ia="[object String]",sa="[object Symbol]",aa="[object ArrayBuffer]",oa="[object DataView]",ca="[object Float32Array]",la="[object Float64Array]",ha="[object Int8Array]",ua="[object Int16Array]",pa="[object Int32Array]",da="[object Uint8Array]",fa="[object Uint8ClampedArray]",va="[object Uint16Array]",ga="[object Uint32Array]";function ma(t,e,r){var n=t.constructor;switch(e){case aa:return Ws(t);case Ys:case Zs:return new n(+t);case oa:return zs(t,r);case ca:case la:case ha:case ua:case pa:case da:case fa:case va:case ga:return Qs(t,r);case ta:return new n;case ea:case ia:return new n(t);case ra:return Ns(t);case na:return new n;case sa:return Gs(t)}}var ya=ma,ba=Object.create,Oa=function(){function t(){}return function(e){if(!Ce(e))return{};if(ba)return ba(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),ja=Oa;function wa(t){return"function"!=typeof t.constructor||pi(t)?{}:ja(ts(t))}var Pa=wa,xa="[object Map]";function _a(t){return cn(t)&&Es(t)==xa}var Sa=_a,ka=ri["a"]&&ri["a"].isMap,Ca=ka?ei(ka):Sa,Ma=Ca,Ta="[object Set]";function Da(t){return cn(t)&&Es(t)==Ta}var Ea=Da,$a=ri["a"]&&ri["a"].isSet,Ia=$a?ei($a):Ea,Aa=Ia,Ra=1,La=2,Ha=4,Ba="[object Arguments]",Wa="[object Array]",Fa="[object Boolean]",za="[object Date]",Va="[object Error]",Ua="[object Function]",Na="[object GeneratorFunction]",qa="[object Map]",Ka="[object Number]",Ja="[object Object]",Ga="[object RegExp]",Xa="[object Set]",Qa="[object String]",Ya="[object Symbol]",Za="[object WeakMap]",to="[object ArrayBuffer]",eo="[object DataView]",ro="[object Float32Array]",no="[object Float64Array]",io="[object Int8Array]",so="[object Int16Array]",ao="[object Int32Array]",oo="[object Uint8Array]",co="[object Uint8ClampedArray]",lo="[object Uint16Array]",ho="[object Uint32Array]",uo={};function po(t,e,r,n,i,s){var a,o=e&Ra,c=e&La,l=e&Ha;if(r&&(a=i?r(t,n,i,s):r(t)),void 0!==a)return a;if(!Ce(t))return t;var h=yn(t);if(h){if(a=Rs(t),!o)return Bi(t,a)}else{var u=Es(t),p=u==Ua||u==Na;if(Object(bn["a"])(t))return Object(Li["a"])(t,o);if(u==Ja||u==Ba||p&&!i){if(a=c||p?{}:Pa(t),!o)return c?ss(t,Ri(a,t)):Xi(t,Si(a,t))}else{if(!uo[u])return i?t:{};a=ya(t,u,o)}}s||(s=new Nr);var d=s.get(t);if(d)return d;s.set(t,a),Aa(t)?t.forEach((function(n){a.add(po(n,e,r,n,t,s))})):Ma(t)&&t.forEach((function(n,i){a.set(i,po(n,e,r,i,t,s))}));var f=l?c?us:ls:c?Ii:xi,v=h?void 0:f(t);return Kr(v||t,(function(n,i){v&&(i=n,n=t[i]),en(a,i,po(n,e,r,i,t,s))})),a}uo[Ba]=uo[Wa]=uo[to]=uo[eo]=uo[Fa]=uo[za]=uo[ro]=uo[no]=uo[io]=uo[so]=uo[ao]=uo[qa]=uo[Ka]=uo[Ja]=uo[Ga]=uo[Xa]=uo[Qa]=uo[Ya]=uo[oo]=uo[co]=uo[lo]=uo[ho]=!0,uo[Va]=uo[Ua]=uo[Za]=!1;var fo=po,vo=1,go=4;function mo(t){return fo(t,vo|go)}var yo=mo,bo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("zm-dialog",{staticClass:"chapter-editor",attrs:{visible:t.visible,title:t.$t("edit_chapter"),width:"500px","append-to-body":""},on:{"update:visible":function(e){t.visible=e}}},[r("zm-input",{attrs:{type:"textarea",autosize:"",maxlength:150},model:{value:t.section.content,callback:function(e){t.$set(t.section,"content",e)},expression:"section.content"}}),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("zm-button",{staticClass:"btn-delete",attrs:{type:"danger",loading:t.deleteLoading},on:{click:t.deleteSection}},[t._v("\n      "+t._s(t.$t("delete"))+"\n    ")]),r("zm-button",{attrs:{type:"primary",loading:t.saveLoading,disabled:!t.section.content||!t.section.content.trim()},on:{click:t.saveSection}},[t._v("\n      "+t._s(t.$t("save"))+"\n    ")]),r("zm-button",{on:{click:t.cancel}},[t._v("\n      "+t._s(t.$t("cancel"))+"\n    ")])],1)],1)},Oo=[];function jo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jo(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Po={name:"chapter-editor",props:{sections:Array,section:Object},data:function(){return{visible:!1,saveLoading:!1,deleteLoading:!1}},methods:wo({show:function(){var t=this;this.visible=!0,this.$nextTick((function(){t.originContent=t.section.content}))},hide:function(){this.visible=!1},deleteSection:function(){var t=this;this.sections.splice(this.sections.indexOf(this.section),1),this.deleteLoading=!0,this.updateChapterSections(this.sections).then((function(){t.deleteLoading=!1,t.$message.success(t.$t("remove_chapter_marker")),t.hide()})).catch((function(e){t.deleteLoading=!1,t.cancel(),t.$message.error(e.message)}))},saveSection:function(){var t=this;this.saveLoading=!0,this.updateChapterSections(this.sections).then((function(){t.saveLoading=!1,t.$message.success(t.$t("update_chapter_marker")),t.hide()})).catch((function(e){t.saveLoading=!1,t.cancel(),t.$message.error(e.message)}))},cancel:function(){this.section.content=this.originContent,this.hide()}},Object(d["b"])(["updateChapterSections"]))},xo=Po,_o=(r("7a21"),Object(x["a"])(xo,bo,Oo,!1,null,"52f80e6b",null)),So=_o.exports;function ko(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ko(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ko(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Mo={name:"vjs-chapter-marker",mixins:[f["a"],M,mt["a"]],components:{VjsContextMenu:Tt},props:{section:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px",commands:[{text:this.$t("edit_chapter"),action:"edit-chapter"},{text:this.$t("remove_chapter"),action:"remove-chapter"}],options:[]}},computed:Co({duration:function(){return this.player.duration()},ariaLabel:function(){return this.section.content+","+Object(D["a"])(this.section.startTime-this.offsetStart)}},Object(d["e"])(["offsetStart","hasPermissionEdit","trimming"])),provide:function(){return{menu:this}},render:function(){var t=arguments[0];return t("div",{class:"vjs-chapter-marker",style:this.getMarkerStyl(this.section)},[t("span",{class:"vjs-chapter-marker-button",attrs:{role:"button","aria-haspopup":this.hasPermissionEdit,"aria-label":this.ariaLabel,"aria-expanded":this.getExpandState(),"aria-activedescendant":this.activedescendant,"aria-controls":this.getMenuId(),tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,contextmenu:this.onContextMenu,keydown:this.onKeyDown,focus:this.onFocus},ref:"button"}),t("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.section.content,time:this.section.startTime-this.offsetStart,reference:"button"},ref:"popMarker"}),t("vjs-context-menu",{attrs:{placement:"bottom-start",offset:"0,10px",modifiers:this.modifiers,"append-to-body":!1,player:this.activePlayer,reference:"button",commands:this.commands,"hover-index":this.hoverIndex},ref:"contextMenu",on:{command:this.handleCommand,hide:this.resetHoverIndex}})])},methods:{onContextMenu:function(t){t.stopPropagation(),t.preventDefault(),this.conditionShowContextMenu()},conditionShowContextMenu:function(){this.hasPermissionEdit&&!this.trimming&&(this.hidePopMarker(),this.showContextMenu())},getExpandState:function(){var t=this.$refs.contextMenu;return t?String(t.showPopper):"false"},getMenuId:function(){return this.$refs.contextMenu?this.$refs.contextMenu.$refs.list.id:null},onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;if(t.shiftKey&&121===e)this.conditionShowContextMenu();else{switch(e){case r.enter:if(this.isMenuVisible()){var n=this.commands[this.hoverIndex];n&&(this.$emit("command",n.action,this.section),this.hideContextMenu())}else this.changeToCurrent();t.preventDefault();break;case r.space:this.isMenuVisible()||this.changeToCurrent(),t.preventDefault();break;case r.tab:this.hidePopMarker(),this.hideContextMenu();break;case r.esc:this.hidePopMarker(),this.hideContextMenu(),t.preventDefault();break;case r.down:this.isMenuVisible()&&this.navigateOptions("next"),t.preventDefault();break;case r.up:this.isMenuVisible()&&this.navigateOptions("prev"),t.preventDefault();break;case r.home:this.isMenuVisible()&&this.navigateOptions("home"),t.preventDefault();break;case r.end:this.isMenuVisible()&&this.navigateOptions("end"),t.preventDefault();break}t.stopPropagation()}},changeToCurrent:function(){Object(D["b"])("Position moved to Chapter Marker "+Object(D["a"])(this.section.startTime-this.offsetStart)),this.player.realCurrentTime(this.section.startTime)},showContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.show()},hideContextMenu:function(){this.$refs.contextMenu&&this.$refs.contextMenu.hide()},isMenuVisible:function(){return this.$refs.contextMenu&&this.$refs.contextMenu.showPopper},handleCommand:function(t){this.$emit("command",t.action,this.section)}}};function To(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Do(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?To(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Eo(t){var e=$o();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function $o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var Io=window.Vue,Ao=u["default"].getPlugin("plugin"),Ro=24,Lo=function(t){Object(c["a"])(r,t);var e=Eo(r);function r(t,n){var i;return Object(a["a"])(this,r),i=e.call(this,t,n),i.sharePlayer=n.sharePlayer,i.createMarker(t),i}return Object(o["a"])(r,[{key:"createMarker",value:function(t){var e=this.sharePlayer;Object(R["a"])().then((function(r){var n=new Io({i18n:r,store:p["a"],render:function(r){return r(Ho,{props:{player:t,sharePlayer:e}})}});n.$mount(),t.controlBar.progressControl.contentEl().appendChild(n.$el)}))}}]),r}(Ao);u["default"].registerPlugin("chapterMarker",Lo);var Ho={mixins:[A["a"]],components:{ChapterEditor:So,VjsChapterMarker:Mo},data:function(){return{editSection:{}}},computed:Do({duration:function(){return this.player.duration()},clonedSections:function(){return yo(this.chapterSections)}},Object(d["e"])(["offsetStart","chapterSections"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-chapter-markers-bar"},[this.renderMakers(),t("div",[t("chapter-editor",{attrs:{section:this.editSection,sections:this.clonedSections},ref:"editor"})])])},mounted:function(){this.player.on("add-chapter",this.addChapter)},methods:Do({renderMakers:function(){var t=this,e=this.$createElement;return this.clonedSections.filter((function(e){var r=e.startTime-t.offsetStart;return!(r<0||r>t.duration)})).map((function(r,n){return e("vjs-chapter-marker",{attrs:{section:r,player:t.player,"active-player":t.activePlayer},key:r.startTime+"/"+n,on:{command:t.handleCommand}})}))},handleCommand:function(t,e){"edit-chapter"===t?(this.editSection=e,this.exitFullscreen(),this.$refs.editor.show()):"remove-chapter"===t&&this.removeChapter(e)},exitFullscreen:function(){var t=this.player,e=this.sharePlayer;t.isFullscreen()?t.exitFullscreen():e&&e.isFullscreen()&&e.exitFullscreen()},removeChapter:function(t){var e=this;this.clonedSections.splice(this.clonedSections.indexOf(t),1),this.updateChapterSections(this.clonedSections).then((function(){e.$message.success(e.$t("remove_chapter_marker"))})).catch((function(t){e.$message.error(t.message)}))},addChapter:function(){var t=this,e=this.clonedSections.length;if(e>=Ro)return this.exitFullscreen(),void this.$message.warning(this.$t("add_tips"));var r=this.$t("auto_title",[e+1]),n=1*this.player.realCurrentTime().toFixed(3);this.clonedSections.push({content:r,startTime:n}),this.updateChapterSections(this.clonedSections).then((function(){t.$message.success(t.$t("add_chapter_marker")),Object(D["b"])("Chapter Marker added at "+Object(b["d"])(t.player.currentTime()))})).catch((function(e){t.$message.error(e.message)}))}},Object(d["b"])(["updateChapterSections"]))};r("a9ee"),r("72c2"),r("6661"),r("ef2d"),r("ef84"),r("7f7f");function Bo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bo(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bo(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Fo={name:"vjs-polling-marker",mixins:[f["a"],M],props:{poll:Object,player:Object,activePlayer:Object},data:function(){return{offset:"0, 11px"}},computed:Wo({duration:function(){return this.player.duration()},ariaLabel:function(){return"Poll Result "+this.poll.name+","+Object(D["a"])(this.poll.shareTimeInRecording-this.offsetStart)}},Object(d["e"])(["offsetStart"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-polling-marker",style:this.getMarkerStyl(this.poll)},[t("span",{class:"vjs-polling-marker-button",attrs:{role:"button","aria-label":this.ariaLabel,tabIndex:0},on:{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave,keydown:this.onKeyDown,focus:this.onFocus,mousedown:this.onMouseDown},ref:"button"}),t("vjs-pop-marker",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,content:this.poll.name,time:this.poll.shareTimeInRecording-this.offsetStart,reference:"button"},ref:"popMarker"})])},methods:{onMouseDown:function(t){this.handleManual(),t.preventDefault(),t.stopPropagation()},onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;e===r.enter||e===r.space?(this.handleManual(),t.preventDefault()):e!==r.tab&&e!==r.esc||(this.hidePopMarker(),e===r.esc&&t.preventDefault()),t.stopPropagation()},handleManual:function(){this.$emit("manual",this.poll)},getMarkerStyl:function(t){var e=parseInt((t.shareTimeInRecording-this.offsetStart)/this.duration*1e4)/100;return{left:e+"%"}}}},zo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.poll?r("zm-dialog",{staticClass:"poll-dialog",attrs:{title:t.poll.name,visible:t.visible,"append-to-body":"",width:"560px","aria-describedby":"pollsDesc"},on:{"update:visible":function(e){t.visible=e}}},[r("zm-scrollbar",{ref:"scrollbar",staticStyle:{height:"350px"},attrs:{"wrap-style":"overflow-x:hidden;"}},[r("div",{staticClass:"polling-question",attrs:{id:"pollsDesc"}},t._l(t.poll.questions,(function(e,n){return r("poll-question-item",{key:e.questionId,attrs:{question:e,index:n,advance:t.advance}})})),1)]),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("zm-button",{attrs:{plain:""},on:{click:t.hide}},[t._v("\n      "+t._s(this.$t("close"))+"\n    ")])],1)],1):t._e()},Vo=[],Uo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"poll-question-item"},[r("h4",{staticClass:"title"},[r("span",[t._v(t._s(t.questionIndex))]),r("span",{staticClass:"polling-question-title mgr-xs"},[t._v("\n      "+t._s(t.questionTitle)+"\n    ")]),r("span",{staticClass:"question-type"},[t._v("\n      "+t._s(t.questionType)+"\n    ")])]),t.advance?r("div",{staticClass:"advance"},[t.showProgress?r("zm-progress",{staticClass:"mgt-md mgb-sm answer-percent-progress",attrs:{color:t.color,percentage:t.answerPercentage,"show-text":!1}}):t._e(),r("p",{staticClass:"answer-percent"},[t._v("\n      "+t._s(t.answeredPercent)+"\n    ")]),t._l(t.possibleAnswers,(function(e,n){return r("poll-option-item-new",{key:e.id,attrs:{option:e,index:n,advance:t.matchingOrRankOrder,isMatching:t.isMatching,isRatingScale:t.isRatingScale,matchingOrRankOrderAnswer:t.matchingOrRankOrderAnswer}})})),t.matchingOrRankOrder?r("div",{staticClass:"possible-answer-container"},t._l(t.matchingOrRankOrderAnswer,(function(e,n){return r("div",{key:e.id,staticClass:"possible-answer-item mgr-md"},[r("span",{staticClass:"mgr-xs circle",style:t.getCircleStyle(n)}),t._v("\n        "+t._s(e.value)+"\n      ")])})),0):t._e(),t.rightAnswers?r("div",{staticClass:"correct-answer-container mgt-md"},[t.matchingOrRankOrder?r("div",[r("div",[t._v(t._s(t.$t("correct_answer")))]),t._l(t.rightAnswers,(function(e,n){return r("div",{key:e.id},[t._v("\n          "+t._s(t.rightItem(e,n))+"\n        ")])}))],2):r("div",[1===t.rightAnswers.length?r("div",[r("span",{staticClass:"mgr-xs"},[t._v(t._s(t.$t("correct_answer_is")))]),r("span",{staticClass:"is-bold answer"},[t._v(t._s(t.correctAnswer))])]):r("div",[r("span",{staticClass:"mgr-xs"},[t._v(t._s(t.$t("correct_answer")))]),t._v("\n          "+t._s(t.correctAnswer)+"\n        ")])])]):t._e()],2):t._l(t.question.optionsList,(function(t){return r("poll-option-item",{key:t.optionId,attrs:{option:t}})}))],2)},No=[],qo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"option-container"},[r("div",{staticClass:"option-des"},[r("span",{staticClass:"option-value"},[t._v(t._s(t.option.option))]),r("span",{staticClass:"option-statistics"},[t._v(t._s(t.optionStatistics))])]),r("zm-progress",{attrs:{color:t.color,percentage:t.optionPercentage,"show-text":!1}})],1)},Ko=[],Jo={name:"poll-option-item",props:{option:Object},computed:{optionStatistics:function(){return"".concat(this.option.votePercent,"%")},optionPercentage:function(){return parseInt(this.option.votePercent)},color:function(){return"100"===this.option.votePercent?"#00A832":"#0E72ED"}}},Go=Jo,Xo=(r("a7bb"),Object(x["a"])(Go,qo,Ko,!1,null,"88cf9fbc",null)),Qo=Xo.exports,Yo=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"option-container",class:{"is-active":t.isActive},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[t.isRatingScale?[r("div",{staticClass:"option-des rating-scale"},[r("span",{staticClass:"option-str"},[t._v(t._s(t.optionStr))]),r("zm-progress",{staticClass:"flex-one",attrs:{color:t.color,percentage:t.optionPercentage}})],1)]:[r("div",{staticClass:"option-des"},[r("span",{staticClass:"option-value"},[t._v(t._s(t.optionStr))]),r("span",{staticClass:"option-statistics"},[t._v(t._s(t.optionStatistics))])]),t.advance?r("div",{staticClass:"advance-progress"},[r("div",{staticClass:"zm-progress zm-progress--line zm-progress--without-text",attrs:{role:"progressbar","aria-valuenow":t.optionPercentage,"aria-valuemin":"0","aria-valuemax":"100"}},[r("div",{staticClass:"zm-progress-bar"},[r("div",{staticClass:"zm-progress-bar__outer",staticStyle:{height:"6px"}},t._l(t.validAnswerResult,(function(e){return r("div",{key:e.id,staticClass:"zm-progress-bar__inner",style:t.getProgressStyle(e)})})),0)])])]):r("zm-progress",{attrs:{color:t.color,percentage:t.optionPercentage,"show-text":!1}})],t.advance?r("div",{staticClass:"tooltip",style:{bottom:t.bottom+"px"}},[r("div",{staticClass:"answer-desc mgb-xs"},[t._v(t._s(t.option.value))]),t._l(t.option.answerResults,(function(e){return r("div",{key:e.id,staticClass:"answer-item"},[r("div",{staticClass:"flex-one text"},[r("span",{staticClass:"mgr-xs circle",style:t.getCircleStyle(e)}),t._v("\n        "+t._s(e.value)+"\n      ")]),r("div",{staticClass:"percent"},[t._v(t._s(t.answerStr(e.votePercent)))])])}))],2):t._e()],2)},Zo=[],tc=r("54b4"),ec={name:"poll-option-item-new",props:{option:Object,advance:Boolean,isMatching:Boolean,isRatingScale:Boolean,index:Number,matchingOrRankOrderAnswer:Array},data:function(){return{isActive:!1,bottom:0}},computed:{optionStr:function(){var t=this.option,e=this.isRatingScale?t.id:t.value,r=tc["b"][this.index]+". "+e;return this.isMatching?r:e},optionStatistics:function(){return"".concat(this.option.votePercent,"%")},optionPercentage:function(){return parseInt(this.option.votePercent)},color:function(){return"100"===this.option.votePercent?"#00A832":"#0E72ED"},validAnswerResult:function(){return this.option.answerResults&&this.option.answerResults.filter((function(t){return"0"!==t.votePercent}))}},methods:{getProgressStyle:function(t){var e=t.votePercent+"%",r=this.getIndexById(this.matchingOrRankOrderAnswer,t.id),n=tc["a"][r];return{width:e,backgroundColor:n}},getIndexById:function(t,e){for(var r,n=t.length,i=0;i<n;i++)if(e===t[i].id){r=i;break}return r},getCircleStyle:function(t){var e=this.getIndexById(this.matchingOrRankOrderAnswer,t.id),r=tc["a"][e];return{color:r,borderColor:r}},answerStr:function(t){return"".concat(t,"%")},onMouseEnter:function(t){var e=t.target.getBoundingClientRect();this.bottom=document.documentElement.clientHeight-(e.top+10),this.isActive=!0,t.stopPropagation(),t.preventDefault()},onMouseLeave:function(t){this.isActive=!1,t.stopPropagation(),t.preventDefault()}}},rc=ec,nc=(r("e81c"),Object(x["a"])(rc,Yo,Zo,!1,null,"786566c2",null)),ic=nc.exports,sc={name:"poll-question-item",components:{PollOptionItem:Qo,PollOptionItemNew:ic},props:{question:Object,index:Number,advance:Boolean},computed:{questionIndex:function(){return"".concat(this.index+1,".")},questionTitle:function(){return this.question.name},questionType:function(){var t=this.question.type,e="";switch(t){case tc["e"].singleChoice:e=this.$t("single_choice");break;case tc["e"].multipleChoice:e=this.$t("multiple_choice");break;case tc["e"].matching:e=this.$t("matching");break;case tc["e"].rankOrder:e=this.$t("rank_order");break;case tc["e"].shortAnswer:e=this.$t("short_answer");break;case tc["e"].longAnswer:e=this.$t("long_answer");break;case tc["e"].blank:e=this.$t("blank");break;case tc["e"].ratingScale:e=this.$t("rating_scale");break}return"(".concat(e,")")},showProgress:function(){var t=this.question.type;return t===tc["e"].shortAnswer||t===tc["e"].longAnswer||t===tc["e"].blank},rightAnswers:function(){var t=this.question.pollingQuestionOptions;return t&&t.rightAnswers},answerPercentage:function(){return parseInt(this.question.answerPercent)},color:function(){return"100"===this.question.answerPercent?"#00A832":"#0E72ED"},answeredPercent:function(){var t=this.question.answerPercent+"%";return this.rightAnswers?this.$t("answered_correct",{percent:t}):this.$t("answered",{percent:t})},possibleAnswers:function(){var t=this.question.pollingQuestionOptions,e=this.question.type,r=[];switch(e){case tc["e"].singleChoice:case tc["e"].multipleChoice:r=t&&t.possibleAnswers;break;case tc["e"].matching:case tc["e"].rankOrder:r=t&&t.prompts;break;case tc["e"].ratingScale:r=JSON.parse(JSON.stringify(t&&t.possibleAnswers)),r.reverse();break}return r},matchingOrRankOrder:function(){var t=this.question.type;return t===tc["e"].matching||t===tc["e"].rankOrder},matchingOrRankOrderAnswer:function(){var t=this.question.pollingQuestionOptions;return t&&t.possibleAnswers},isMatching:function(){var t=this.question.type;return t===tc["e"].matching},isRatingScale:function(){var t=this.question.type;return t===tc["e"].ratingScale},correctAnswer:function(){var t=this.rightAnswers||[],e=[];return t.forEach((function(t){e.push(t.value)})),e.join(", ")}},methods:{getCircleStyle:function(t){var e=tc["a"][t];return{color:e,borderColor:e}},rightItem:function(t,e){var r=this.isMatching?tc["b"][e]:this.$t("row",{index:e+1});return r+": "+t.value}}},ac=sc,oc=(r("9532"),Object(x["a"])(ac,Uo,No,!1,null,"31f62396",null)),cc=oc.exports,lc={name:"poll-dialog",components:{PollQuestionItem:cc},data:function(){return{visible:!1,poll:null}},computed:{advance:function(){return!!this.poll.recordingSupportAdvance}},methods:{show:function(t){this.poll!==t&&(this.poll=t),this.visible=!0},hide:function(){this.visible=!1}}},hc=lc,uc=Object(x["a"])(hc,zo,Vo,!1,null,null,null),pc=uc.exports;function dc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dc(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vc(t){var e=gc();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function gc(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var mc=window.Vue,yc=u["default"].getPlugin("plugin"),bc=function(t){Object(c["a"])(r,t);var e=vc(r);function r(t,n){var i;Object(a["a"])(this,r),i=e.call(this,t,n);var s=p["a"].getters.hasPoll;return s?(i.sharePlayer=n.sharePlayer,i.getAndCreateMarker(t),i):Object(l["a"])(i)}return Object(o["a"])(r,[{key:"getAndCreateMarker",value:function(t){var e=p["a"].state.polls;this.createMarker(e,t),this.createPollingControlComp(e,t)}},{key:"createMarker",value:function(t,e){var r=this.sharePlayer;Object(R["a"])().then((function(n){var i=new mc({i18n:n,store:p["a"],render:function(n){return n(Oc,{props:{player:e,sharePlayer:r,polls:t}})}});i.$mount(),e.controlBar.progressControl.contentEl().appendChild(i.$el)}))}},{key:"createPollingControlComp",value:function(t,e){var r=this.sharePlayer;Object(R["a"])().then((function(n){var i=new mc({store:p["a"],i18n:n,render:function(n){return n(jc,{props:{player:e,sharePlayer:r,polls:t}})}});i.$mount(),e.speed().insertAfter(i.$el)}))}}]),r}(yc);u["default"].registerPlugin("pollResult",bc);var Oc={mixins:[A["a"]],components:{VjsPollingMarker:Fo,pollDialog:pc},props:{polls:{type:Array,default:function(){return[]}}},data:function(){return{currentTime:0}},computed:fc({duration:function(){return this.player.duration()},filterPolls:function(){var t=this;return this.polls.filter((function(e){var r=e.shareTimeInRecording-t.offsetStart;return!(r<=0||r>t.duration)}))}},Object(d["e"])(["offsetStart","pollShow"])),render:function(){var t=arguments[0];return t("div",{directives:[{name:"show",value:this.pollShow}],class:"vjs-polling-markers-bar"},[this.renderMakers(),t("div",[t("poll-dialog",{ref:"pollDialog"})])])},mounted:function(){var t=this;this.player.on("timeupdate",(function(){var e=parseInt(t.player.currentTime());t.currentTime!==e&&(t.currentTime=e)}))},methods:{renderMakers:function(){var t=this,e=this.$createElement;return this.filterPolls.map((function(r,n){return e("vjs-polling-marker",{attrs:{poll:r,player:t.player,"active-player":t.activePlayer},key:r.shareTimeInRecording+"/"+n,on:{manual:t.handleManual}})}))},handleManual:function(t){var e=this.player;!e.paused()&&e.pause(),this.showPollDialog(t)},showPollDialog:function(t){this.$refs.pollDialog.show(t)}},watch:{currentTime:function(t){var e=this;if(this.pollShow&&!this.player.paused()){var r=this.filterPolls.find((function(r){return t+e.offsetStart===r.shareTimeInRecording}));r&&this.showPollDialog(r)}}}},jc={mixins:[A["a"],q["a"],f["a"]],props:{polls:{type:Array,default:function(){return[]}}},computed:fc({wrapperCls:function(){var t=["vjs-polling-control"];return this.pollShow?t.push("hide-poll"):t.push("show-poll"),t.join(" ")},controlText:function(){return this.pollShow?"Hide Poll Result":"Show Poll Result"},duration:function(){return this.player.duration()},pollShowBtn:function(){var t=this;return this.polls.filter((function(e){var r=e.shareTimeInRecording-t.offsetStart;return!(r<=0||r>t.duration)})).length}},Object(d["e"])(["offsetStart","pollShow"])),render:function(){var t=arguments[0];return t("div",{directives:[{name:"show",value:this.pollShowBtn}],class:this.wrapperCls},[t("button",{class:"vjs-polling-control-button vjs-control",attrs:{"aria-label":this.controlText},on:{click:this.onControlClick,mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave}},[t("span",{attrs:{"arial-hidden":"true"},class:"vjs-icon-placeholder"})]),t("vjs-pop-title",{attrs:{placement:this.placement,offset:this.offset,modifiers:this.modifiers,"append-to-body":!1,title:this.getTitle()},ref:"popTitle"})])},methods:fc({onControlClick:function(){this.pollShow?this.setPollShow(!1):this.setPollShow(!0)},getTitle:function(){return this.pollShow?this.$t("hide_poll"):this.$t("show_poll")}},Object(d["d"])({setPollShow:"SET_POLL_SHOW"}))};function wc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wc(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var xc={name:"vjs-highlight-bar",props:{highlight:Object,player:Object},data:function(){return{offset:"0, 11px"}},computed:Pc({duration:function(){return this.player.duration()}},Object(d["e"])(["offsetStart","realCurrT"])),render:function(){var t=arguments[0];return t("div",{class:"vjs-highlight-bar",style:this.getMarkerStyl(this.highlight)},[t("div",{class:"vjs-highlight-progress",style:this.getProgressStyl(this.highlight)})])},methods:{getMarkerStyl:function(t){var e=t.startTimeMs,r=t.endTimeMs,n=1e3*this.duration,i=1e3*this.offsetStart,s=parseInt((e-i)/n*1e4)/100,a=parseInt((r-e)/n*1e4)/100;return{width:a+"%",left:s+"%"}},getProgressStyl:function(t){var e=t.startTimeMs,r=t.endTimeMs,n=1e3*this.realCurrT,i=0;if(n>=r)i=100;else if(n<=e)i=0;else{var s=r-e;i=parseInt((n-e)/s*1e4)/100}return{width:i+"%"}}}},_c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{class:t.wrapperCls},[t.hasHighlight?[r("div",{staticClass:"left"},[r("label",{attrs:{id:"play_highlights_label"}},[t._v(t._s(t.$t("play_highlights_new")))]),r("zm-tooltip",{attrs:{placement:"top"}},[r("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.highlightTips)},slot:"content"}),r("i",{staticClass:"zm-icon-info-outline mgl-xs mgr-sm",attrs:{role:"button","aria-label":"Learn More about Recording Highlights"}})]),r("zm-switch",{attrs:{disabled:t.edit,"label-by":"play_highlights_label","label-text":"Only play highlights is "+(t.mode?"Turned On":"Turned Off")},on:{change:t.changePlayMode},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1),t.allowEdit?r("div",{staticClass:"right"},[t.isIpad?t._e():r("edit-highlights",{attrs:{player:t.player,edit:t.edit,trimming:t.trimming},on:{"show-setting":t.showHighlightsSettingComp}}),r("save-highlight-as",{attrs:{edit:t.edit,trimming:t.trimming}})],1):t._e()]:t.allowEdit&&!t.isIpad?[t.hasTranscript?r("div",{staticClass:"desc"},[r("span",[t._v(t._s(t.$t("no_highlights_desc1")))]),r("span",{staticClass:"mgl-xs"},[t._v(t._s(t.$t("add_highlights")))]),t.trimming?r("zm-tooltip",{attrs:{placement:"top",content:t.unableTrimTips}},[r("button",{attrs:{type:"button"}},[t._v("\n          "+t._s(t.$t("no_highlights_here"))+"\n        ")])]):r("button",{attrs:{type:"button"},on:{click:t.showHighlightsSettingComp}},[t._v(t._s(t.$t("no_highlights_here")))]),t._v("\n      "+t._s(t.$t("no_highlights_or"))+"\n      "),r("span",{domProps:{innerHTML:t._s(t.highlightsDesc2)}})],1):r("div",{staticClass:"desc"},[t._v(t._s(t.$t("no_highlights_desc1")))]),r("zm-tooltip",{attrs:{placement:"top"}},[r("div",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.highlightTips)},slot:"content"}),r("i",{staticClass:"zm-icon-info-outline mgl-xs mgr-sm",attrs:{role:"button","aria-label":"Learn More about Recording Highlights"}})]),t.hasTranscript?t._e():[t.trimming?r("zm-tooltip",{attrs:{placement:"top",content:t.unableTrimTips}},[r("button",{attrs:{type:"button"}},[t._v(t._s(t.$t("add_highlights")))])]):r("button",{attrs:{type:"button"},on:{click:t.showHighlightsSettingComp}},[t._v(t._s(t.$t("add_highlights")))])]]:t._e()],2)},Sc=[],kc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"save-highlights-as"},[r("i",{staticClass:"icon"}),t.trimming?r("zm-tooltip",{attrs:{placement:"top",content:t.unableTrimTips}},[r("button",{staticClass:"btn",attrs:{type:"button"}},[t._v("\n        "+t._s(t.$t("save_as_new_clip"))+"\n      ")])]):[r("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.showDialog}},[t._v("\n      "+t._s(t.$t("save_as_new_clip"))+"\n    ")])],r("zm-dialog",{staticClass:"highlights-dialog",attrs:{visible:t.visible,title:t.dialogTitle,width:"500px","append-to-body":"","aria-describedby":"highlights-desc"},on:{"update:visible":function(e){t.visible=e},open:t.dialogOpen}},[r("div",{attrs:{id:"highlights-desc"}},[t.showSuccessTips?r("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.highlightsDesc2)}}):[r("div",{staticClass:"desc"},[t._v(t._s(t.$t("highlights_d_desc")))]),r("div",{attrs:{id:"name-clip"}},[t._v(t._s(t.$t("name_clip")))]),r("zm-input",{attrs:{"label-by":"name-clip",name:"clipName",maxlength:200},model:{value:t.clipName,callback:function(e){t.clipName=e},expression:"clipName"}})]],2),r("div",{attrs:{slot:"footer"},slot:"footer"},[t.showSuccessTips?r("zm-button",{attrs:{plain:""},on:{click:t.closeDialog}},[t._v("\n        "+t._s(t.$t("btn_ok"))+"\n      ")]):[r("zm-button",{attrs:{type:"primary",loading:t.saveLoading,disabled:!t.clipName.trim()},on:{click:t.saveHighlightsAs}},[t._v("\n          "+t._s(t.$t("save_now"))+"\n        ")]),r("zm-button",{attrs:{plain:""},on:{click:t.closeDialog}},[t._v("\n          "+t._s(t.$t("cancel"))+"\n        ")])]],2)])],2)},Cc=[],Mc=r("365c");function Tc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tc(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Ec={name:"save-highlights-as",props:{edit:Boolean,trimming:Boolean},data:function(){return{visible:!1,dialogTitle:"",saveLoading:!1,clipName:"",showSuccessTips:!1}},computed:Dc(Dc({highlightsDesc2:function(){var t=this.isRecordingHostSelf?"/recording/detail?meeting_id=".concat(this.meetingId):"/recording/management/detail?meeting_id=".concat(this.meetingId);return this.$t("highlights_d_desc2",[t])},unableTrimTips:function(){return this.$t("trimming_unable_edit")}},Object(d["e"])(["topic","isRecordingHostSelf","meetingId","shareVideoId","recordingId","tranLocalJsonFileId"])),Object(d["c"])(["computedHighlights","videoId"])),methods:{saveHighlightsAs:function(){var t=this;this.saveLoading=!0;var e=this.clipName,r=this.computedHighlights,n=[];r.forEach((function(t){var e={startTime:t.startStr,endTime:t.endStr};n.push(e)})),Object(Mc["f"])({clipName:e,recordId:this.videoId,tranLocalJsonFileId:this.tranLocalJsonFileId,tranWebVttFileId:this.tranWebVttFileId,ranges:JSON.stringify(n)}).then((function(){t.saveLoading=!1,t.dialogTitle=t.$t("highlights_d_title2"),t.showSuccessTips=!0})).catch((function(e){t.saveLoading=!1,t.$message.error(e.message)})),Object(Mc["g"])({html_object_id:"recordingExportHighlights",html_object_category:"Recording",html_class:""}).catch((function(){}))},showDialog:function(){this.edit||(this.visible=!0)},closeDialog:function(){this.visible=!1},dialogOpen:function(){this.saveLoading=!1,this.dialogTitle=this.$t("highlights_d_title"),this.clipName="".concat(this.topic," highlights"),this.checked=!0,this.showSuccessTips=!1}}},$c=Ec,Ic=(r("e363"),Object(x["a"])($c,kc,Cc,!1,null,"59c9809f",null)),Ac=Ic.exports,Rc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"edit-highlights"},[r("i",{staticClass:"zm-icon-edit"}),t.trimming?r("zm-tooltip",{attrs:{placement:"top",content:t.unableTrimTips}},[r("button",{staticClass:"btn",attrs:{type:"button"}},[t._v("\n      "+t._s(t.$t("edit_highlights"))+"\n    ")])]):r("button",{staticClass:"btn",attrs:{type:"button"},on:{click:t.showHighlightsSettingComp}},[t._v("\n    "+t._s(t.$t("edit_highlights"))+"\n  ")])],1)},Lc=[],Hc={name:"edit-highlights",props:{player:Object,edit:Boolean,trimming:Boolean},methods:{showHighlightsSettingComp:function(){this.edit||this.$emit("show-setting")}},computed:{unableTrimTips:function(){return this.$t("trimming_unable_edit")}}},Bc=Hc,Wc=(r("a9a9"),Object(x["a"])(Bc,Rc,Lc,!1,null,"91ed9d24",null)),Fc=Wc.exports,zc=r("0a1f"),Vc=r("5b8d");function Uc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Uc(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var qc={name:"highlights-control-bar",props:{player:Object},data:function(){return{mode:!1,highlightTips:this.$t("highlight_help"),highlightsDesc2:this.$t("no_highlights_desc2")}},components:{SaveHighlightAs:Ac,EditHighlights:Fc},computed:Nc(Nc({isIpad:function(){return zc["c"]},hasHighlight:function(){var t=this.highlights;return t&&t.length},allowEdit:function(){return this.hasPermissionEdit},edit:function(){return this.editHL||this.editR},wrapperCls:function(){var t=[],e=this.hasHighlight?"highlights-control-wrapper":this.allowEdit&&!this.isIpad?"highlights-notice-wrapper":"highlights-wrapper";return t.push(e),this.edit&&t.push("disabled"),this.trimming&&t.push("trimming"),t},unableTrimTips:function(){return this.$t("trimming_unable_edit")}},Object(d["e"])(["highlightsMode","hasPermissionEdit","editHL","trimming","editR"])),Object(d["c"])({highlights:"computedHighlights",hasTranscript:"hasTranscript"})),methods:Nc({changePlayMode:function(){this.mode?(this.setHighlightsMode(!0),this.playHighlights()):this.setHighlightsMode(!1)},playHighlights:function(){var t=this.player,e=this.highlights[0].startTime;t.pause(),t.realCurrentTime(e),Object(Mc["g"])({html_object_id:"recordingPlayerHighlightMode",html_object_category:"Recording",html_class:""}).catch((function(){}))},showHighlightsSettingComp:function(){if(!this.edit){var t=this.player,e=t.highlights().highlightsSettingComp;e.show(),e.setEditHLStatus(!0),window.addEventListener("keydown",r),this.$nextTick((function(){var n=new Vc["a"](e.$el,document.activeElement);e.$once("hide",(function(){window.removeEventListener("keydown",r),n.closeDialog()})),t.pause(),t.controlBar.hide()}))}function r(t){var r=t.keyCode,n=T["a"].keys;r===n.esc&&(e.hide(),t.preventDefault())}}},Object(d["d"])({setHighlightsMode:"SET_HIGHLIGHTS_MODE"})),mounted:function(){this.mode=this.highlightsMode}},Kc=qc,Jc=(r("4352"),Object(x["a"])(Kc,_c,Sc,!1,null,"0dfc8626",null)),Gc=Jc.exports,Xc=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"vjs-highlights-setting-mask"},[r("div",{staticClass:"vjs-highlights-setting"},[r("div",{staticClass:"header"},[r("button",{class:t.btnCls,attrs:{"aria-label":t.controlText},on:{click:t.togglePlay}},[r("span",{staticClass:"vjs-icon-placeholder",attrs:{"arial-hidden":"true"}})])]),r("div",{ref:"content",staticClass:"center",class:{"show-tips":t.showAddTips},attrs:{tabindex:"0","aria-label":t.ariaLabel},on:{mousemove:function(e){t.onMouseMove(e)},mouseleave:t.onMouseLeave,click:t.onClick,keydown:t.onKeyDown}},[t.showAddTips?r("div",{staticClass:"add-tips"},[t._v("\n        "+t._s(t.$t("no_highlights_tips"))+"\n      ")]):[t.showAddBox?r("div",{directives:[{name:"focus",rawName:"v-focus"}],ref:"add",staticClass:"add-box",style:t.addBoxStyl,attrs:{role:"slider",tabindex:t.tabIndex,"aria-label":"Add New Highlight","aria-describedby":"addAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.addVal,"aria-valuetext":t.addTime},on:{keydown:t.onAddKeyDown}},[r("div",{staticClass:"vjs-tooltip",attrs:{role:"tooltip","aria-label":t.addTip}},[r("span",{staticClass:"title"},[t._v("\n              "+t._s(t.addTip)+"\n            ")])])]):t._e(),t._l(t.computedHL,(function(e,n){return r("highlight-segment",{key:e.startTimeMs+"/"+n,ref:"seg",refInFor:!0,attrs:{highlight:e,player:t.player,index:n,"tab-index":t.tabIndex},on:{"on-move":t.updateAddBoxStatus,"update-tab-status":t.updateTabStatus}})})),r("div",{staticClass:"sr-only",attrs:{id:"addAriaDes"}},[t._v(t._s(t.addAriaDes))]),r("div",{staticClass:"sr-only",attrs:{id:"startAriaDes"}},[t._v(t._s(t.startAriaDes))]),r("div",{staticClass:"sr-only",attrs:{id:"endAriaDes"}},[t._v(t._s(t.endAriaDes))])]],2),r("div",{staticClass:"footer vjs-highlights-actions"},[r("zm-button",{attrs:{type:"primary",size:"small",loading:t.saving},on:{click:t.save}},[t._v("\n        "+t._s(t.$t("done"))+"\n      ")]),r("zm-button",{staticClass:"mgl-xs",attrs:{size:"small"},on:{click:t.cancel}},[t._v("\n        "+t._s(t.$t("cancel"))+"\n      ")])],1)])])},Qc=[],Yc=(r("28a5"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"segment",staticClass:"highlight-segment",class:{"is-active":t.isActive,"is-drag":t.isDrag,"is-start":t.isDragStart,"is-end":t.isDragEnd,"show-curr":t.showCurrT},style:t.getSegmentStyl,attrs:{tabindex:"-1"},on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,click:function(e){t.changeToCurrent(e)},mousemove:function(e){t.handleMouseMove(e)}}},[r("span",{directives:[{name:"focus",rawName:"v-focus"}],staticClass:"prev dot",attrs:{role:"slider","aria-label":t.startAriaLabel,"aria-describedby":"startAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.start,"aria-valuetext":t.startTime,tabindex:t.tabIndex},on:{mousedown:function(e){t.onMouseDown(e,!0)},keydown:t.onStartKeyDown,focus:t.onStartFocus}}),r("span",{staticClass:"next dot",attrs:{role:"slider","aria-label":t.endAriaLabel,"aria-describedby":"endAriaDes","aria-orientation":"horizontal","aria-valuemin":"0","aria-valuemax":t.max,"aria-valuenow":t.end,"aria-valuetext":t.endTime,tabindex:t.tabIndex},on:{mousedown:function(e){t.onMouseDown(e,!1)},keydown:t.onEndKeyDown,focus:t.onEndFocus}}),r("div",{staticClass:"remove"},[r("ul",[r("li",{staticClass:"item",attrs:{role:"button",tabindex:t.tabIndex,"aria-label":t.removeAriaLabel},on:{click:function(e){t.handleRemove(e)},keydown:t.onRemoveKeyDown}},[t._v("\n        "+t._s(t.$t("remove"))+"\n      ")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showGrayLine,expression:"showGrayLine"}],staticClass:"gray-line",style:t.getGrayLineStyl}),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showRedLine,expression:"showRedLine"}],staticClass:"curr-pos",style:t.getCurrPos}),r("span",{staticClass:"start tooltip"},[t._v(t._s(t.startTime))]),r("span",{staticClass:"end tooltip"},[t._v(t._s(t.endTime))]),r("span",{staticClass:"current-time tooltip",style:t.currStyl},[t._v(t._s(t.currTime))])])}),Zc=[];function tl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tl(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var rl={name:"highlight-segment",props:{player:Object,highlight:Object,index:Number,tabIndex:Number},data:function(){return{grayLinePos:0,mouseover:!1,currTime:"00:00:00",showCurrT:!1,currStyl:{}}},directives:{focus:{inserted:function(t,e,r){var n=r.context,i=n.$store.state;n.isActive&&!i.isDrag&&i.isDragStart&&Object(ct["b"])(t,"prev")&&t.focus()}}},computed:el(el({oIndex:function(){return this.highlight.index},isActive:function(){return this.activeIndex===this.oIndex},duration:function(){return this.player.duration()},showRedLine:function(){var t=this.highlight,e=t.startTimeMs,r=t.endTimeMs,n=1e3*this.realCurrT;return n>=e&&n<=r},showGrayLine:function(){return!this.isDrag&&this.mouseover},getSegmentStyl:function(){var t=this.highlight,e=t.startTimeMs,r=t.endTimeMs,n=1e3*this.duration,i=1e3*this.offsetStart,s=parseInt((e-i)/n*1e4)/100,a=parseInt((r-e)/n*1e4)/100;return{width:a+"%",left:s+"%"}},getCurrPos:function(){var t=this.highlight,e=t.startTimeMs,r=t.endTimeMs,n=1e3*this.realCurrT,i=parseInt((n-e)/(r-e)*1e4)/100;return{left:i+"%"}},startTime:function(){var t=this.highlight,e=1e3*this.offsetStart,r=((t.startTimeMs-e)/1e3).toFixed(3);return Object(b["d"])(r)},endTime:function(){var t=this.highlight,e=1e3*this.offsetStart,r=((t.endTimeMs-e)/1e3).toFixed(3);return Object(b["d"])(r)},getGrayLineStyl:function(){return{left:this.grayLinePos+"px"}},removeAriaLabel:function(){var t=this.index+1;return"Remove highlight ".concat(t)},startAriaLabel:function(){var t=this.index+1;return"Highlight ".concat(t," start")},endAriaLabel:function(){var t=this.index+1;return"Highlight ".concat(t," end")},max:function(){var t=this.duration;return parseInt(t)},start:function(){var t=this.highlight.startTime,e=this.offsetStart;return parseInt(t-e)},end:function(){var t=this.highlight.endTime,e=this.offsetStart;return parseInt(t-e)}},Object(d["e"])(["offsetStart","highlights","realCurrT","isDrag","isDragStart","isDragEnd","activeIndex"])),Object(d["c"])({computedHL:"computedHighlights"})),methods:el({onMouseEnter:function(){this.isDrag||(this.updateActiveIndex(this.oIndex),this.mouseover=!0)},onMouseLeave:function(){this.mouseover=!1},changeToCurrent:function(t){if(this.mouseover){var e=this.player,r=this.$parent.$refs.content.clientWidth,n=1e3*this.duration,i=1e3*this.offsetStart,s=this.highlight,a=n/r,o=s.startTimeMs,c=this.grayLinePos*a,l=((c+o-i)/1e3).toFixed(3);this.currTimeout&&window.clearTimeout(this.currTimeout),e.currentTime(l),this.currTime=Object(b["d"])(l),this.currStyl={left:this.grayLinePos+"px"},this.showCurrT=!0;var h=this;this.currTimeout=window.setTimeout(u,2e3),t.stopPropagation(),t.preventDefault()}function u(){h.showCurrT=!1}},handleMouseMove:function(t){if(!this.isDrag){this.$emit("on-move",!1);var e=t.clientX,r=this.$refs.segment,n=r.getBoundingClientRect(),i=n.left;this.grayLinePos=e-i,this.mouseover||(this.mouseover=!0),t.stopPropagation(),t.preventDefault()}},onMouseDown:function(t,e){var r=this,n=this.highlights,i=this.computedHL,s=i.length,a=t.clientX,o=this.$parent.$refs.content.clientWidth,c=this.highlight,l=1e3*this.duration,h=1e3*this.offsetStart,u=h+l,p=l/o,d=this.oIndex,f=1e3,v=c.startTimeMs,g=c.endTimeMs,m=this.index,y=s-1,O=n[d-1],j=n[d+1],w={};this.mouseover=!1,this.showCurrT=!1,this.setDragStatus(!0),e?this.setDragStart(!0):this.setDragEnd(!0);var P=this;function x(){e?P.setDragStart(!1):P.setDragEnd(!1)}this.timeout&&window.clearTimeout(this.timeout),this.onMouseMove=function(t){var s=t.clientX-a,o=s*p;if(e){var c,l=v+o;if(o<0)if(0===m)c=(Math.max(l,h)/1e3).toFixed(3);else{var O=i[m-1].endTimeMs;c=(Math.max(l,O)/1e3).toFixed(3)}else{var j=g-f;c=(Math.min(l,j)/1e3).toFixed(3)}var P=Object(b["d"])(c)+"."+c.split(".")[1];n[d].startTime!==P&&(w={startTime:P,endTime:n[d].endTime},r.updateHLByIndex({oIndex:d,item:w}))}else{var x,_=g+o;if(o>0)if(m===y)x=(Math.min(_,u)/1e3).toFixed(3);else{var S=i[m+1].startTimeMs;x=(Math.min(_,S)/1e3).toFixed(3)}else{var k=v+f;x=(Math.max(_,k)/1e3).toFixed(3)}var C=Object(b["d"])(x)+"."+x.split(".")[1];n[d].endTime!==C&&(w={startTime:n[d].startTime,endTime:C},r.updateHLByIndex({oIndex:d,item:w}))}t.stopPropagation(),t.preventDefault()},this.onMouseUp=function(){r.setDragStatus(!1);var t=n[d],i=t&&t.startTime,s=t&&t.endTime;if(e&&O&&O.endTime===i){w={startTime:O.startTime,endTime:s};var a=d-1;r.updateHLByIndex({oIndex:a,count:2,item:w}),r.updateActiveIndex(a)}else!e&&j&&j.startTime===s&&(w={startTime:i,endTime:j.endTime},r.updateHLByIndex({oIndex:d,count:2,item:w}));r.timeout=window.setTimeout(x,1e3),document.removeEventListener("mousemove",r.onMouseMove),document.removeEventListener("mouseup",r.onMouseUp)},document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),t.stopPropagation(),t.preventDefault()},handleRemove:function(t){var e=this.oIndex;this.updateHLByIndex({oIndex:e}),t.stopPropagation(),t.preventDefault()},onStartFocus:function(){this.isActive||this.updateActiveIndex(this.oIndex),this.isDragEnd&&this.setDragEnd(!1)},onEndFocus:function(){this.isActive||this.updateActiveIndex(this.oIndex),this.isDragStart&&this.setDragStart(!1)},keyDownStart:function(t){var e,r,n=1e3,i=this.highlights,s=this.computedHL,a=this.highlight,o=a.startTimeMs,c=a.endTimeMs,l=this.index,h=this.oIndex,u=1e3*this.offsetStart,p=o+t*n,d=!1;if(t<0)if(0===l)e=(Math.max(p,u)/1e3).toFixed(3);else{r=s[l-1];var f=r.endTimeMs;f===o?d=!0:e=(Math.max(p,f)/1e3).toFixed(3)}else{var v=c-n;e=(Math.min(p,v)/1e3).toFixed(3)}if(d){var g=a.endStr,m={startTime:r.startStr,endTime:g},y=h-1;this.updateHLByIndex({oIndex:y,count:2,item:m}),this.updateActiveIndex(y),Object(D["b"])("Highlight ".concat(l+1," Merged Highlight ").concat(l)),this.$parent.$refs.seg[l-1].$el.focus()}else{var O=Object(b["d"])(e)+"."+e.split(".")[1];if(i[h].startTime!==O){var j={startTime:O,endTime:i[h].endTime};this.updateHLByIndex({oIndex:h,item:j})}}},handleStart:function(t){!this.isDragStart&&this.setDragStart(!0),t.stopPropagation(),t.preventDefault()},onStartKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;switch(e){case r.left:this.keyDownStart(-1),this.handleStart(t);break;case r.right:this.keyDownStart(1),this.handleStart(t);break;case r.esc:this.$emit("update-tab-status"),t.stopPropagation(),t.preventDefault();break}},keyDownEnd:function(t){var e,r,n=1e3,i=this.highlights,s=this.computedHL,a=s.length,o=this.highlight,c=o.startTimeMs,l=o.endTimeMs,h=this.oIndex,u=1e3*this.duration,p=1e3*this.offsetStart,d=p+u,f=l+t*n,v=this.index,g=a-1,m=!1;if(t>0)if(v===g)e=(Math.min(f,d)/1e3).toFixed(3);else{r=s[v+1];var y=r.startTimeMs;l===y?m=!0:e=(Math.min(f,y)/1e3).toFixed(3)}else{var O=c+n;e=(Math.max(f,O)/1e3).toFixed(3)}if(m){var j=o.startStr,w={startTime:j,endTime:r.endStr};this.updateHLByIndex({oIndex:h,count:2,item:w}),Object(D["b"])("Highlight ".concat(v+1," Merged Highlight ").concat(v+2)),this.$refs.segment.focus()}else{var P=Object(b["d"])(e)+"."+e.split(".")[1];if(i[h].endTime!==P){var x={startTime:i[h].startTime,endTime:P};this.updateHLByIndex({oIndex:h,item:x})}}},handleEnd:function(t){!this.isDragEnd&&this.setDragEnd(!0),t.stopPropagation(),t.preventDefault()},onEndKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;switch(e){case r.left:this.keyDownEnd(-1),this.handleEnd(t);break;case r.right:this.keyDownEnd(1),this.handleEnd(t);break;case r.esc:this.$emit("update-tab-status"),t.stopPropagation(),t.preventDefault();break}},onRemoveKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;switch(e){case r.enter:case r.space:var n=this.oIndex,i=this.index+1;this.updateHLByIndex({oIndex:n}),Object(D["b"])("Highlight ".concat(i," removed")),this.$parent.$refs.content.focus(),t.stopPropagation(),t.preventDefault();break;case r.esc:this.$emit("update-tab-status"),t.stopPropagation(),t.preventDefault();break}}},Object(d["d"])({updateHLByIndex:"UPDATE_HL_BY_INDEX",setDragStatus:"SET_DRAG_STATUS",setDragStart:"SET_DRAG_START",setDragEnd:"SET_DRAG_END",updateActiveIndex:"UPDATE_ACTIVE_INDEX"})),watch:{activeIndex:function(t){this.isDrag||(this.setDragStart(!1),this.setDragEnd(!1),this.showCurrT=!1)}}},nl=rl,il=(r("3e9a"),Object(x["a"])(nl,Yc,Zc,!1,null,"a970284c",null)),sl=il.exports;function al(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ol(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?al(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):al(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var cl={name:"highlights-setting",props:{player:Object},data:function(){return{isPlaying:!1,saving:!1,leftPos:0,addVal:0,showAddBox:!1,addTip:this.$t("add_highlight"),tabIndex:-1}},components:{HighlightSegment:sl},directives:{focus:{inserted:function(t,e,r){var n=r.context;0===n.tabIndex&&t.focus()}}},mounted:function(){var t=this,e=this.player;e.on(["play","pause"],(function(){t.isPlaying=!e.paused()}))},computed:ol(ol({showAddTips:function(){return 0===this.computedHL.length&&!this.showAddBox},addBoxStyl:function(){return{left:this.leftPos+"px"}},btnCls:function(){var t=["vjs-play-button"];return t.push(this.isPlaying?"vjs-playing":"vjs-paused"),t.join(" ")},controlText:function(){return this.isPlaying?"Pause":"Play"},duration:function(){return this.player.duration()},ariaLabel:function(){return"highlight timeline slider, press space to begin editing highlights, press escape when done"},addAriaDes:function(){return"press arrow keys to navigate, press space to add highlight"},startAriaDes:function(){return"press arrow left/right to edit start time"},endAriaDes:function(){return"press arrow left/right to edit end time"},max:function(){var t=this.duration;return parseInt(t)},addTime:function(){var t=this.addVal;return Object(b["d"])(t)},unit:function(){var t=1e3*this.duration,e=this.$refs.content,r=e.clientWidth;return r/t}},Object(d["e"])(["offsetStart","highlights","tranLocalJsonFileId","recordMeetId","fileStartTime","transcriptList","isDrag"])),Object(d["c"])({videoId:"videoId",HLItemList:"HLItemList",computedHL:"computedHighlights"})),methods:ol({togglePlay:function(){var t=this.player,e=this.isPlaying;e?t.pause():t.play()},onMouseMove:function(t){if(!this.isDrag){var e=t.clientX,r=this.$refs.content,n=r.getBoundingClientRect(),i=n.left,s=r.clientWidth-7,a=e-i-3;a<0?a=0:a>s&&(a=s),this.leftPos=a,this.updateAddBoxStatus(!0)}},onMouseLeave:function(){this.updateAddBoxStatus(!1)},handleRightKeyDown:function(){var t=this.unit,e=this.max;this.checkSegments(this.addVal,!0),this.addVal=this.addVal<e?this.addVal:e,this.leftPos=Math.round(1e3*this.addVal*t)},onKeyDown:function(t){var e=t.keyCode,r=T["a"].keys;switch(e){case r.space:this.tabIndex=0,this.updateAddBoxStatus(!0),this.addVal=0,this.handleRightKeyDown(),t.stopPropagation();break;case r.esc:this.tabIndex=-1,t.stopPropagation();break}},onAddKeyDown:function(t){var e=t.keyCode,r=T["a"].keys,n=this.unit,i=1/this.unit,s=Math.round(7*i)/1e3,a=this.max-s;switch(e){case r.space:this.onClick(),this.$refs.content.focus(),t.stopPropagation();break;case r.left:this.addVal>0&&(this.addVal--,this.checkSegments(this.addVal,!1),this.addVal=this.addVal>0?this.addVal:0,this.leftPos=Math.round(1e3*this.addVal*n)),t.stopPropagation();break;case r.right:this.addVal<a-1&&(this.addVal++,this.handleRightKeyDown()),t.stopPropagation();break;case r.esc:this.updateTabStatus(),t.stopPropagation();break}},onClick:function(){if(this.showAddBox){var t=this.highlights,e=this.computedHL,r=this.HLItemList,n=t.length,i=e.length,s=1e3*this.offsetStart,a=1e3*this.duration,o=this.$refs.content,c=o.clientWidth,l=a/c,h=c-7,u=7*l,p=this.leftPos;p<0?p=0:p>h&&(p=h);var d=(p+7)*l+s,f=d-u,v=(f/1e3).toFixed(3),g=(d/1e3).toFixed(3),m={},y=1,O=!1;if(m.startTime=Object(b["d"])(v)+"."+v.split(".")[1],m.endTime=Object(b["d"])(g)+"."+g.split(".")[1],0===i)if(0===n)this.updateHLByIndex({oIndex:0,count:0,item:m});else for(var j=r[0],w=0;w<n;w++){var P=r[w],x=r[w+1];if(f>P.endTimeMs&&(x&&d<x.startTimeMs||!x)){this.updateHLByIndex({oIndex:w+1,count:0,item:m});break}if(d<j.startTimeMs){this.updateHLByIndex({oIndex:0,count:0,item:m});break}}else for(var _=e[0],S=0;S<i;S++){var k=e[S],C=e[S+1];if(f>k.endTimeMs&&(C&&d<C.startTimeMs||!C)){this.updateHLByIndex({oIndex:k.index+1,count:0,item:m}),y=S+2;break}if(d<_.startTimeMs){this.updateHLByIndex({oIndex:0,count:0,item:m});break}if(f>k.startTimeMs&&f<=k.endTimeMs&&(C&&d<C.startTimeMs||!C)){m.startTime=k.startStr,this.updateHLByIndex({oIndex:k.index,count:1,item:m}),y=S+1,O=!0;break}if(f<k.startTimeMs&&d<=k.endTimeMs&&d>k.startTimeMs){m.endTime=k.endStr,this.updateHLByIndex({oIndex:k.index,count:1,item:m}),y=S+1,O=!0;break}if(f>=k.startTimeMs&&f<=k.endTimeMs&&C&&d>=C.startTimeMs&&d<=C.endTimeMs){m.startTime=k.startStr,m.endTime=C.endStr,this.updateHLByIndex({oIndex:k.index,count:2,item:m}),y=S+1,O=!0;break}}this.updateAddBoxStatus(!1),this.addVal=0,this.handleRightKeyDown(),this.readAddAria(y,O)}},readAddAria:function(t,e){e?Object(D["b"])("Highlight ".concat(t," updated")):Object(D["b"])("Highlight ".concat(t," added"))},updateTabStatus:function(){this.tabIndex=-1,this.$refs.content.focus(),this.updateAddBoxStatus(!1)},updateAddBoxStatus:function(t){this.showAddBox!==t&&(this.showAddBox=t)},updateOriginalHL:function(){var t=this.player,e=t.highlights().highlightsSettingComp,r=JSON.parse(JSON.stringify(this.highlights));e.updateOriginalHL(r)},save:function(){var t=this;this.saving=!0;var e=this.HLItemList,r=[],n=[],i=[];this.highlights.forEach((function(t,n){var s={startTime:t.startTime,endTime:t.endTime};r.push(s),i=i.concat(e[n].itemIds)})),this.transcriptList.forEach((function(t){for(var e=!1,r=t.itemId,s=0;s<i.length;s++)if(r===i[s]){e=!0;break}n.push({item_id:r,highlighted:e})}));var s={tranLocalJsonFileId:this.tranLocalJsonFileId,fileId:this.videoId,meetingId:this.recordMeetId,fileStartTime:this.fileStartTime,ranges:JSON.stringify(r),items:JSON.stringify(n)};Object(Mc["k"])(s).then((function(){t.saving=!1,t.updateOriginalHL(),t.updateHLByItemIds(i),t.$emit("hide")})).catch((function(e){t.saving=!1,t.$message.error(e.message)})),this.tabIndex=-1},cancel:function(){this.tabIndex=-1,this.$emit("hide")},checkSegments:function(t,e){var r=this.computedHL,n=r.length,i=1/this.unit,s=this.offsetStart,a=Math.round(7*i)/1e3;if(n>0)for(var o=0;o<n;o++){var c=r[o],l=c.startTime,h=c.endTime;t+s>=l&&t+a+s<=h&&(e?parseInt(h-s)===this.max?this.addVal=l-s-a:this.addVal=h-s:this.addVal=l-s-a)}}},Object(d["d"])({updateHLByItemIds:"UPDATE_HL_BY_ITEM_IDS",updateHLByIndex:"UPDATE_HL_BY_INDEX"}))},ll=cl,hl=(r("0dc6"),Object(x["a"])(ll,Xc,Qc,!1,null,"1e8f82d4",null)),ul=hl.exports;function pl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pl(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fl(t){var e=vl();return function(){var r,n=Object(h["a"])(t);if(e){var i=Object(h["a"])(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Object(l["a"])(this,r)}}function vl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var gl=window.Vue,ml=u["default"].getPlugin("plugin"),yl=function(t){Object(c["a"])(r,t);var e=fl(r);function r(t,n){var i;Object(a["a"])(this,r),i=e.call(this,t,n);var s=!p["a"].getters.computedHighlights.length,o=p["a"].state,c=o.isHighlightFile,h=o.enableHighlight,u=o.canEditHighlight,d=o.hasPermissionEdit,f=o.trimming;return c||!h||!u||!d&&s?Object(l["a"])(i):(i.sharePlayer=n.sharePlayer,i.createHighlightsBar(t),i.createHighlightsControlComp(t),d&&!f&&i.createHighlightsSettingComp(t),i)}return Object(o["a"])(r,[{key:"createHighlightsBar",value:function(t){var e=this.sharePlayer;Object(R["a"])().then((function(r){var n=new gl({i18n:r,store:p["a"],render:function(r){return r(bl,{props:{player:t,sharePlayer:e}})}});n.$mount(),t.controlBar.progressControl.contentEl().appendChild(n.$el)}))}},{key:"createHighlightsControlComp",value:function(t){var e=this,r=this.sharePlayer;Object(R["a"])().then((function(n){var i=new gl({store:p["a"],i18n:n,render:function(e){return e(Ol,{props:{player:t,sharePlayer:r}})}});i.$mount(),t.contentEl().appendChild(i.$el),e.highlightsControlComp=i}))}},{key:"createHighlightsSettingComp",value:function(t){var e=this;Object(R["a"])().then((function(r){var n=new gl({store:p["a"],i18n:r,render:function(e){return e(jl,{props:{player:t},on:{hide:this.onSettingHide},ref:"comp"})},computed:dl({},Object(d["e"])(["highlights"])),methods:dl({show:function(){var t=JSON.parse(JSON.stringify(this.highlights));this.updateOriginalHL(t),this.$refs.comp.show()},hide:function(){this.$refs.comp.hide()},onSettingHide:function(){var e=JSON.parse(JSON.stringify(this.originalHL));t.controlBar.show(),this.$emit("hide"),this.updateHighlights(e),this.setEditHLStatus(!1),this.updateActiveIndex(-1)},updateOriginalHL:function(t){this.originalHL=t}},Object(d["d"])({updateHighlights:"UPDATE_HIGHLIGHTS",setEditHLStatus:"SET_EDIT_HL_STATUS",updateActiveIndex:"UPDATE_ACTIVE_INDEX"}))});n.$mount(),t.contentEl().appendChild(n.$el),e.highlightsSettingComp=n}))}}]),r}(ml);u["default"].registerPlugin("highlights",yl);var bl={mixins:[A["a"]],components:{VjsHighlightBar:xc},computed:dl({},Object(d["c"])({highlights:"computedHighlights"})),render:function(){var t=arguments[0];return t("div",{class:"vjs-highlights-bar"},[this.renderBars()])},methods:{renderBars:function(){var t=this,e=this.$createElement;return this.highlights.map((function(r,n){return e("vjs-highlight-bar",{attrs:{highlight:r,player:t.player},key:r.startTimeMs+"/"+n})}))}}},Ol={mixins:[A["a"]],components:{HighlightsControlBar:Gc},computed:dl(dl({},Object(d["e"])(["highlightsMode","editHL"])),Object(d["c"])({highlights:"computedHighlights"})),mounted:function(){var t=this;this.player.on("timeupdate",(function(){var e=1*t.player.realCurrentTime().toFixed(3);(t.highlightsMode||t.editHL)&&t.highlights.length&&t.checkPlaybackSegments(e),t.setRealCurrT(e)}))},render:function(){var t=arguments[0];return t("highlights-control-bar",{attrs:{player:this.player}})},methods:dl({checkPlaybackSegments:function(t){var e=this.player,r=JSON.parse(JSON.stringify(this.highlights)),n=r.length;if(n>0){var i=r[0].startTime,s=r[n-1].endTime;if(t<i)e.realCurrentTime(i);else if(t>=s)e.realCurrentTime(i),e.pause();else for(var a=0;a<n;a++){var o=r[a],c=r[a+1];if(t>=o.startTime&&t<=o.endTime)return;if(t>o.endTime&&t<c.startTime)return void e.realCurrentTime(c.startTime)}}}},Object(d["d"])({setRealCurrT:"SET_REAL_CURR_T"}))},jl={props:{player:Object},data:function(){return{visible:!1}},components:{HighlightsSetting:ul},render:function(){var t=arguments[0];return t("highlights-setting",{directives:[{name:"show",value:this.visible}],attrs:{player:this.player},on:{hide:this.hide}})},methods:{show:function(){this.visible=!0},hide:function(){this.visible=!1,this.$emit("hide")}}},wl=function(t,e){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},wl(t,e)};function Pl(t,e){function r(){this.constructor=t}wl(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function xl(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}var _l=function(){function t(){this.events={}}return t.prototype.on=function(t,e,r){void 0===r&&(r=this),this.events[t]||(this.events[t]=[]),this.events[t].push([e,r])},t.prototype.once=function(t,e,r){var n=this;void 0===r&&(r=this);var i=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];n.off(t,i),e.apply(r,s)};i.fn=e,this.on(t,i)},t.prototype.off=function(t,e){if(t||e){if(t){if(!e)return void(this.events[t]=[]);var r=this.events[t];if(!r)return;var n=r.length;while(n--)(r[n][0]===e||r[n][0]&&r[n][0].fn===e)&&r.splice(n,1)}}else this.events={}},t.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=this.events[t];if(n)for(var i=n.length,s=xl(n),a=0;a<i;a++){var o=s[a],c=o[0],l=o[1];c&&c.apply(l,e)}},t.prototype.dispose=function(){this.events={}},t}();function Sl(t){0}function kl(t,e,r){return e<=r&&(t>=e&&t<=r)}function Cl(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function Ml(t){Cl(t)&&t.then(null,(function(){}))}var Tl=5e3,Dl=2,El=.3,$l=1e3,Il=1e3,Al=1,Rl=4,Ll=.5,Hl=-.5,Bl=.25,Wl=.05,Fl=-.05,zl="players-ready",Vl="master-play",Ul="master-pause",Nl="master-rate-changes",ql="master-ended",Kl="master-time-update",Jl="buffering",Gl="buffered-and-auto-play",Xl="buffered-not-auto-play",Ql="synchronizing",Yl=function(t){function e(e,r){var n=t.call(this)||this;return n.masterPlayer=e,n.syncPlayers=r,n.readyPlayers={},n.loadedPlayers={},n.isBuffering=!1,n.hitPauseWhileBuffering=!1,n.ignoreNextPause=!1,n.playWhenBuffered=!1,n.bufferCheckerSet=!1,n.lastSync=0,n.players=xl([n.masterPlayer],n.syncPlayers),n.initState(),n.bindMethods(),n.registerEvents(),n}return Pl(e,t),e.prototype.playMaster=function(){this.allPlayersLoaded()&&this.play(this.masterPlayer)},e.prototype.pauseMaster=function(){this.allPlayersLoaded()&&this.pause(this.masterPlayer)},e.prototype.setCurrentTime=function(t){this.allPlayersLoaded()&&this.masterPlayer.currentTime(t)},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.clearMasterPlayerEvent(),this.readyPlayers={},this.loadedPlayers={}},e.prototype.initState=function(){var t=this;this.players.forEach((function(e){var r=e.id();t.readyPlayers[r]=!1,t.loadedPlayers[r]=!1}))},e.prototype.bindMethods=function(){var t=this,e=["onMasterPlay","onMasterPause","onMasterRateChange","onMasterEnded","onMasterTimeUpdate","checkBuffer"];e.forEach((function(e){t[e]=t[e].bind(t)}))},e.prototype.registerEvents=function(){var t=this;this.waitAllPlayersReady((function(){t.registerMasterPlayerEvent(),t.trigger(zl)}))},e.prototype.waitAllPlayersReady=function(t){var e=this;this.players.forEach((function(r){r.ready((function(){var n=r.id();e.readyPlayers[n]=!0,e.waitDataLoaded(r,(function(){e.loadedPlayers[n]=!0,e.allPlayersLoaded()&&t()}))}))}))},e.prototype.waitDataLoaded=function(t,e){var r=!1,n=setTimeout((function(){r=!0,e()}),Tl);t.one("loadeddata",(function(){clearTimeout(n),r||e()}))},e.prototype.registerMasterPlayerEvent=function(){this.masterPlayer.on("play",this.onMasterPlay),this.masterPlayer.on("pause",this.onMasterPause),this.masterPlayer.on("ratechange",this.onMasterRateChange),this.masterPlayer.on("ended",this.onMasterEnded),this.masterPlayer.on("timeupdate",this.onMasterTimeUpdate)},e.prototype.clearMasterPlayerEvent=function(){this.masterPlayer.off("play",this.onMasterPlay),this.masterPlayer.off("pause",this.onMasterPause),this.masterPlayer.off("ratechange",this.onMasterRateChange),this.masterPlayer.off("ended",this.onMasterEnded),this.masterPlayer.off("timeupdate",this.onMasterTimeUpdate)},e.prototype.onMasterPlay=function(){Sl("Master player received 'play' event"),this.hitPauseWhileBuffering=!1,this.setBufferChecker(),this.playSyncPlayers(),this.trigger(Vl,this.masterPlayer.currentTime())},e.prototype.onMasterPause=function(){Sl("Master player received 'pause' event"),this.hitPauseWhileBuffering=!this.ignoreNextPause,this.ignoreNextPause=!1,this.trigger(Ul,this.masterPlayer.currentTime())},e.prototype.onMasterRateChange=function(){Sl("Master player received 'ratechange' event");var t=this.masterPlayer.playbackRate();this.setSyncPlayersPlayRate(t),this.trigger(Nl,t)},e.prototype.onMasterEnded=function(){Sl("Master player received 'ended' event"),this.hitPauseWhileBuffering=!0,this.pauseAll(!1),this.synchronize(),this.trigger(ql,this.masterPlayer.duration())},e.prototype.onMasterTimeUpdate=function(){Sl("Master player received 'timeupdate' event"),this.hitPauseWhileBuffering=this.hitPauseWhileBuffering||!this.masterPlayer.paused(),(Date.now()-this.lastSync>=Il||this.masterPlayer.paused())&&this.synchronize(),this.trigger(Kl,this.masterPlayer.currentTime())},e.prototype.playSyncPlayers=function(){var t=this;this.syncPlayers.forEach((function(e){t.play(e),t.mute(e)}))},e.prototype.setSyncPlayersPlayRate=function(t){this.syncPlayers.forEach((function(e){e.playbackRate(t)}))},e.prototype.synchronize=function(){var t=this;this.lastSync=Date.now(),this.syncPlayers.forEach((function(e){var r=!1,n=t.masterPlayer.paused(),i=t.getSyncDelay(e);if(n)r=!0;else{var s=e.playbackRate(),a=t.masterPlayer.playbackRate();if(i>Wl||i<Fl){if(Math.abs(i)<Rl){var o=a;i>0?(o+=Hl,Sl('[synchronize] Decreasing playback rate of player "'+e.id()+'" from '+s+" to "+o)):(o+=Ll,Sl('[synchronize] Increasing playback rate of player "'+e.id()+'" from '+s+" to "+o)),e.playbackRate(o)}else e.playbackRate(a),r=!0;t.trigger(Ql,[t.masterPlayer,e])}else e.playbackRate(a),Sl('[synchronize] Playing player "'+e.id()+'"'),t.play(e)}if(r){var c=t.masterPlayer.currentTime(),l=n?c:c+Bl;Sl('[synchronize] Seeking player "'+e.id()+'": '+l),e.currentTime(l),n?(t.pause(e),Sl('[synchronize] Pause player "'+e.id()+'" after seeking')):(t.play(e),Sl('[synchronize] Playing player "'+e.id()+'" after seeking')),t.trigger(Ql,[t.masterPlayer,e])}}))},e.prototype.getSyncDelay=function(t){var e=this.masterPlayer.currentTime(),r=t.currentTime();return-1===e||-1===r||kl(r,e-Al,e)?0:r-e},e.prototype.setBufferChecker=function(){this.bufferCheckerSet||(this.bufferCheckerSet=!0,window.clearTimeout(this.checkTimer),this.checkTimer=window.setTimeout(this.checkBuffer,$l))},e.prototype.checkBuffer=function(){var t=!0;this.players.some((function(e){for(var r=e.buffered(),n=e.duration(),i=Math.min(e.currentTime()+Dl,n),s=!1,a=0;a<r.length&&!s;a++){var o=r.start(a),c=r.end(a)+El;kl(i,o,c)&&(s=!0)}if(t=t&&s,!t)return!0})),this.isBuffering=!t,t?this.playWhenBuffered&&!this.hitPauseWhileBuffering?(this.playWhenBuffered=!1,this.play(this.masterPlayer),this.trigger(Gl)):this.playWhenBuffered&&(this.playWhenBuffered=!1,this.trigger(Xl)):(this.playWhenBuffered=!0,this.ignoreNextPause=!0,this.pauseAll(!0),Sl("[checkBuffer] buffering"),this.trigger(Jl)),this.checkTimer=window.setTimeout(this.checkBuffer,$l)},e.prototype.allPlayersLoaded=function(){var t=this;return Object.keys(this.loadedPlayers).every((function(e){return t.loadedPlayers[e]}))},e.prototype.allPlayersReady=function(){var t=this;return Object.keys(this.readyPlayers).every((function(e){return t.readyPlayers[e]}))},e.prototype.pauseAll=function(t){var e=this;this.players.forEach((function(r){(t&&r===e.masterPlayer||r!==e.masterPlayer)&&e.pause(r)}))},e.prototype.play=function(t){return!!t.paused()&&(this.allPlayersReady()?this.isBuffering?(Sl("[play]  A player is currently buffering"),!1):(Ml(t.play()),!0):(Sl("[play] Not all players are ready, yet"),!1))},e.prototype.pause=function(t){t.pause(),Sl("[pause] Pausing Player "+t.id())},e.prototype.mute=function(t){t.volume(0),Sl("[mute] Muting Player "+t.id())},e}(_l);function Zl(t,e){return new Yl(t,e)}var th=Zl,eh=r("6503"),rh=r("5729"),nh=r("2d2e"),ih=r("466a");function sh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ah(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sh(Object(r),!0).forEach((function(e){Object(s["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var oh={name:"video-player",mixins:[nh["a"],ih["a"]],components:{Transcript:rh["a"]},data:function(){return{viewWidth:"100%",viewHeight:"100%",shareWidth:"100%",shareHeight:"100%",panelRWidth:"100%",panelRPrevWidth:"",playerViewWrapperWidth:"100%",playerViewPreWrapperWidth:"",playerReady:!1,player:null}},computed:ah(ah({playerViewStyl:function(){return{width:this.viewWidth+"px",height:this.viewHeight+"px"}},playerShareStyl:function(){return{width:this.shareWidth+"px",height:this.shareHeight+"px"}},panelRStyl:function(){return{width:this.panelRWidth}},playerViewWrapperStyl:function(){return{width:this.playerViewWrapperWidth}},showTrimControl:function(){return this.showTrimDerivedBtn&&!this.trimming&&this.hasPermissionEdit},showHighlightControl:function(){return!this.isHighlightFile&&this.enableHighlight&&this.canEditHighlight&&(this.hasPermissionEdit||this.hasHighlight)},videoPlayerCls:function(){var t=[];return(this.hasTranscript||this.hasChat)&&t.push("has-transcript"),this.shareStart&&t.push("start-share"),(this.popMarkerShow||this.popMenuShow)&&t.push("has-pop-overlay"),this.showHighlightControl&&t.push("has-highlight"),this.showTrimControl&&t.push("trim-derived"),this.viewResolvtionsHeight||t.push("uploaded"),t.join(" ")},hasHighlight:function(){var t=this.computedHighlights;return t&&t.length}},Object(d["e"])(["shareMp4Url","viewMp4Url","gallaryMp4Url","chapterUrl","ccUrl","transcriptUrl","shareResolvtionsWidth","shareResolvtionsHeight","viewResolvtionsWidth","viewResolvtionsHeight","playbackModel","autoPlay","popMarkerShow","popMenuShow","continueMode","nextClipStartTime","shareStart","speed","enableHighlight","canEditHighlight","isHighlightFile","hasPermissionEdit","showTrimDerivedBtn","trimming"])),Object(d["c"])(["hasTranscript","hasChat","computedHighlights"])),mounted:function(){this.createPlayer(),this.shareMp4Url&&(this.createSharePlayer(),th(this.player,[this.sharePlayer])),Object(eh["a"])(this.$el,this.layout),this.showMessage()},beforeDestroy:function(){var t=this.player,e=this.sharePlayer;t.off(),t.dispose(),e&&(e.off(),e.dispose()),Object(eh["b"])(this.$el,this.layout)},methods:ah({createPlayer:function(){var t=this,e="GV"===this.playbackModel&&this.gallaryMp4Url?this.gallaryMp4Url:this.viewMp4Url;this.player=Object(u["default"])(this.$refs.player,{controls:!0,preload:"auto",autoplay:this.autoPlay||zc["c"],bigPlayButton:!1,language:R["b"],sources:{src:e,type:"video/mp4"},controlBar:{currentTimeDisplay:!1,durationDisplay:!1,remainingTimeDisplay:!1,captionsButton:!1,textTrackSettings:!1,subtitlesButton:!1,descriptionsButton:!1,chaptersButton:!1,liveDisplay:!1,timeDivider:!1,playbackRateMenuButton:!1,audioTrackButton:!1,customControlSpacer:!1,fullscreenToggle:!1,pictureInPictureToggle:!1,seekToLive:!1,subsCapsButton:!1},html5:{nativeTextTracks:!1}},(function(){var e=t.player,r=t.sharePlayer;e.one("loadeddata",(function(){t.reorderControlBar(),t.registerPlugins(),e.currentTime(0),e.on("fullscreenchange",(function(){setTimeout((function(){!e.isFullscreen()&&t.shareStart?(t.move(),e.trigger("player-resize",{mainPlayerWidth:r.contentEl().clientWidth})):(t.moveBack(),e.trigger("player-resize",{mainPlayerWidth:e.contentEl().clientWidth})),t.$forceUpdate()}),0)})),r&&r.on("fullscreenchange",(function(){setTimeout((function(){r.isFullscreen()||t.shareStart?(t.move(),e.trigger("player-resize",{mainPlayerWidth:r.contentEl().clientWidth})):(t.moveBack(),e.trigger("player-resize",{mainPlayerWidth:e.contentEl().clientWidth})),t.$forceUpdate()}),0)})),t.layout(),t.playerReady=!0})),e.on("share-start",(function(n,i){t.setShareStart(i),i?e.isFullscreen()||r.isFullscreen()||t.move():e.isFullscreen()||r.isFullscreen()||t.moveBack()})),zc["c"]||e.one("suspend",(function(){0===e.currentTime()&&e.currentTime(.01)})),e.on("play",(function(){var r=t.speed;zc["a"]&&1!==r&&e.playbackRate(r),t.setCheckInterval()})),e.on("pause",(function(){t.clearCheckInterval()})),e.on("ended",(function(){t.clearCheckInterval(),1===t.continueMode&&-1!==t.nextClipStartTime||(e.currentTime(0),e.pause())})),e.on("timeupdate",t.updateTime),e.on("layout",t.layout)}))},createSharePlayer:function(){var t=this;this.sharePlayer=Object(u["default"])(this.$refs.sharePlayer,{controls:!0,preload:"auto",autoplay:zc["c"],sources:{src:this.shareMp4Url,type:"video/mp4"},bigPlayButton:!1,muted:!0,controlBar:!1,textTrackDisplay:!1},(function(){var e=t.player,r=t.sharePlayer;r.tech().on("mouseup",(function(t){0===t.button&&(e.paused()?e.play():e.pause())}))}))},reorderControlBar:function(){var t=this.player,e=t.controlBar.contentEl(),r=t.controlBar.progressControl.contentEl(),n=t.controlBar.playToggle.contentEl();e.insertBefore(r,n)},registerPlugins:function(){var t=this.player,e=this.sharePlayer,r=["multipleClip","timeRange","customTitle","fixAria","bigPlayButton","extendControl","speed","highlights","playbackRange","captions","playbackModel","fullscreenToggle","contextMenu","chapterMarker","shareMarker","pollResult","keyboardShortcuts"];r.forEach((function(r){t[r]({sharePlayer:e})}))},shouldShowSharePanel:function(){var t=this.sharePlayer,e=this.shareStart;return t&&t.isFullscreen()||e},layout:function(){this.shareStart&&this.sharePlayerLayout(),this.playerLayout(),this.player.trigger("player-resize",{mainPlayerWidth:this.shareStart?this.shareWidth:this.viewWidth})},computedWrapperHeight:function(t){return this.showTrimControl||this.showHighlightControl?(this.showTrimControl&&(t-=80),this.showHighlightControl&&(t-=40)):t-=40,t},playerLayout:function(){var t=this.$refs.playerViewWrapper,e=t.clientWidth,r=t.clientHeight,n=this.computedWrapperHeight(r),i=this.viewResolvtionsWidth,s=this.viewResolvtionsHeight;this.shareStart?(this.viewWidth=e,this.viewHeight=e*s/i):(this.viewHeight=Math.min(n,e*s/i),this.viewWidth=this.viewHeight*i/s)},sharePlayerLayout:function(){var t=this.$refs.playerShareWrapper,e=t.clientWidth,r=t.clientHeight,n=this.computedWrapperHeight(r),i=this.shareResolvtionsWidth,s=this.shareResolvtionsHeight;this.shareHeight=Math.min(n,e*s/i),this.shareWidth=this.shareHeight*i/s},onMouseDown:function(t){var e=this,r=this.player,n=t.clientX,i=this.$el.clientWidth,s=2*i/5,a=i/5,o=this.$refs.panelR.clientWidth,c=r.paused();c||r.pause(),this.onMouseMove=function(t){var r=t.clientX-n,c=o-r;e.layout(),e.panelRPrevWidth=Math.min(s,Math.max(c,a)),e.panelRWidth=e.panelRPrevWidth+"px",e.playerViewPreWrapperWidth="calc(".concat(100*(i-e.panelRPrevWidth)/i,"% - 20px)"),t.stopPropagation(),t.preventDefault()},this.onMouseUp=function(){c||r.play(),document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp)},document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove)},move:function(){var t=document.activeElement,e=this.player,r=this.sharePlayer,n=e.controlBar.contentEl(),i=r.contentEl();i.appendChild(n);var s=e.playbackRange().backRangeSettingComp;if(s){var a=s.$el;i.appendChild(a)}var o=e.textTrackDisplay.contentEl();i.appendChild(o);var c=e.contextMenu().contextMenuComp;if(c){var l=c.$el;i.appendChild(l)}var h=e.bigPlayButton().comp.$el;i.appendChild(h);var u=e.keyboardShortcuts().comp.$el;i.appendChild(u);var p=e.multipleClip().upcomingComp;if(p){var d=p.$el;i.appendChild(d)}var f=this.$refs.gettyNotice;if(f){var v=f.$el;i.insertBefore(v,n)}var g=e.highlights().highlightsSettingComp;if(g){var m=g.$el;i.appendChild(m)}var y=e.highlights().highlightsControlComp;if(y){var b=y.$el;i.appendChild(b)}var O=e.playbackRange().trimControlComp;if(O){var j=O.$el;i.appendChild(j)}this.$nextTick((function(){t.focus()}))},moveBack:function(){var t=document.activeElement,e=this.player,r=e.contentEl(),n=e.controlBar.contentEl();r.appendChild(n);var i=e.playbackRange().backRangeSettingComp;if(i){var s=i.$el;r.appendChild(s)}var a=e.textTrackDisplay.contentEl();r.appendChild(a);var o=e.contextMenu().contextMenuComp;if(o){var c=o.$el;r.appendChild(c)}var l=e.bigPlayButton().comp.$el;r.appendChild(l);var h=e.keyboardShortcuts().comp.$el;r.appendChild(h);var u=e.multipleClip().upcomingComp;if(u){var p=u.$el;r.appendChild(p)}var d=this.$refs.gettyNotice;if(d){var f=d.$el;r.insertBefore(f,n)}var v=e.highlights().highlightsSettingComp;if(v){var g=v.$el;r.appendChild(g)}var m=e.highlights().highlightsControlComp;if(m){var y=m.$el;r.appendChild(y)}var b=e.playbackRange().trimControlComp;if(b){var O=b.$el;r.appendChild(O)}this.$nextTick((function(){t.focus()}))}},Object(d["d"])({setShareStart:"SET_SHARE_START"})),watch:{shareStart:{immediate:!0,handler:function(t){this.panelRWidth=t?this.panelRPrevWidth?this.panelRPrevWidth+"px":"25%":"100%",this.playerViewWrapperWidth=t||!this.hasTranscript&&!this.hasChat?"100%":this.playerViewPreWrapperWidth?this.playerViewPreWrapperWidth:"calc(75% - 20px)",this.$nextTick(this.layout)}}}},ch=oh,lh=(r("0de7"),Object(x["a"])(ch,n,i,!1,null,"6d2e13d1",null));e["default"]=lh.exports},"3e9a":function(t,e,r){"use strict";r("0e2d")},4013:function(t,e,r){},4352:function(t,e,r){"use strict";r("0ed3")},"46b3":function(t,e,r){},"4a77":function(t,e,r){"use strict";r("e561")},"52ac":function(t,e,r){},"58e0":function(t,e,r){"use strict";(function(t){var n=r("26ee"),i=r("2f74"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=s&&"object"==typeof t&&t&&!t.nodeType&&t,o=a&&a.exports===s,c=o?n["a"].Buffer:void 0,l=c?c.isBuffer:void 0,h=l||i["a"];e["a"]=h}).call(this,r("dd40")(t))},"5ea3":function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=r}).call(this,r("c8ba"))},"7a21":function(t,e,r){"use strict";r("52ac")},"8ea0":function(t,e,r){"use strict";r("4013")},9532:function(t,e,r){"use strict";r("46b3")},a43a:function(t,e,r){},a7bb:function(t,e,r){"use strict";r("03d0")},a9a9:function(t,e,r){"use strict";r("ebb2")},c6eb:function(t,e,r){"use strict";(function(t){var n=r("5ea3"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a&&n["a"].process,c=function(){try{var t=s&&s.require&&s.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(e){}}();e["a"]=c}).call(this,r("dd40")(t))},dd40:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},dff1:function(t,e,r){"use strict";(function(t){var n=r("26ee"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n["a"].Buffer:void 0,c=o?o.allocUnsafe:void 0;function l(t,e){if(e)return t.slice();var r=t.length,n=c?c(r):new t.constructor(r);return t.copy(n),n}e["a"]=l}).call(this,r("dd40")(t))},e363:function(t,e,r){"use strict";r("0974")},e561:function(t,e,r){},e81c:function(t,e,r){"use strict";r("a43a")},ebb2:function(t,e,r){},fa0e:function(t,e,r){}}]);